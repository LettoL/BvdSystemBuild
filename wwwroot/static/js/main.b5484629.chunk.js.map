{"version":3,"sources":["hooks/http.hook.js","const.js","components/import-form/product-item.js","components/import-form/form.js","pages/admin/import.page.js","components/admin-products/product-table-filters.js","components/admin-products/products-table.js","components/admin-products/products-table-paginator.js","components/admin-products/products.js","pages/admin/products.page.js","pages/admin/products-history.page.js","pages/admin/managers.page.js","components/supply-product/form/supply-product-item.js","components/supply-product/form/supply-product-form.js","store/shop-store.js","components/shop/shop-create.js","components/shop/shops-list.js","store/supplier-store.js","components/supplier/supplier-create.js","components/supplier/suppliers-list.js","store/category-store.js","components/categories/category-create.js","components/categories/categories-list.js","store/supply-product-store.js","components/supply-product/list/supply-products-list.js","components/menu/menu.js","components/layouts/admin.layout.js","contexts/auth.context.js","App.js","routes.js","index.js"],"names":["useHttp","useState","loading","setLoading","error","setError","request","useCallback","url","a","method","body","headers","JSON","stringify","fetch","response","json","data","ok","Error","errors","message","clearError","Constants","ProductItem","props","classes","useStyles","product","editProduct","changeHandler","event","newProduct","target","name","value","Grid","container","ListItem","key","number","item","xs","Typography","variant","TextField","title","label","size","onChange","className","maxWidth","code","amount","price","Divider","component","makeStyles","theme","width","padding","Form","shops","suppliers","categories","saveForm","success","productsText","shop","supplier","supplyType","category","form","setForm","products","setProducts","disabled","setDisabled","changeFormHandler","productIndex","findIndex","x","slice","FormControl","formControl","InputLabel","id","Select","labelId","MenuItem","map","multiline","rows","fullWidth","Button","color","onClick","length","split","replace","sum","productsForSave","CircularProgress","List","margin","spacing","minWidth","API","ImportPage","setShops","setCategories","setSuppliers","saveSuccess","setSaveSuccess","getShops","getCategories","getSuppliers","useEffect","ProductTableFilters","handleChangeShop","handleChangeCategory","handleChangeTitle","ProductsTable","page","rowsPerPage","handleOpenDialog","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","filter","row","shopId","categoryId","toLowerCase","includes","bind","ProductsTablePaginator","handleChangePage","handleChangeRowsPerPage","TablePagination","rowsPerPageOptions","count","onChangePage","onChangeRowsPerPage","Products","setPage","setRowsPerPage","setShop","setCategory","setTitle","openDialog","setOpenDialog","setDetailProduct","newPage","Dialog","open","onClose","DialogTitle","DialogContent","autoFocus","type","ProductsPage","getProducts","ProductsHistory","startDate","setStartDate","endDate","setEndDate","date","Date","dateTime","defaultValue","textField","InputLabelProps","shrink","utils","DateFnsUtils","disableToolbar","format","KeyboardButtonProps","toLocaleDateString","productTitle","supplierName","shopTitle","selectEmpty","marginTop","ManagersPage","managers","setManagers","getManagers","SupplyProductItem","index","supplyProduct","productId","supplierId","procurementCost","changeProduct","SupplyProductForm","supplyProducts","setSupplyProducts","changeItemState","console","log","API_SHOPS","fetchShopsFx","createEffect","handler","res","saveShopFx","createStore","on","doneData","state","ShopCreate","ShopsList","shopsData","useStore","API_SUPPLIERS","fetchSuppliersFx","createSupplierFx","phone","email","SupplierCreate","setName","setPhone","setEmail","SuppliersList","suppliersData","API_CATEGORIES","fetchCategoriesFx","createCategoryFx","CategoryCreate","CategoriesList","categoriesData","API_SUPPLYPRODUCTS","fetchSupplyProductsFx","SupplyProductsList","minProcurementCost","setMinProcurementCost","supplyProductId","shopAmount","suppliedAmount","Menu","href","button","to","ListItemText","primary","root","flexGrow","AdminLayout","AuthContext","createContext","userId","userRole","isAuth","App","routes","path","exact","useCookies","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b5484629.chunk.js","sourcesContent":["import {useCallback, useState} from \"react\";\r\n\r\nexport const useHttp = () => {\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(null)\r\n  \r\n  const request = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\r\n    setLoading(true)\r\n    try {\r\n      if(body) {\r\n        body = JSON.stringify(body)\r\n        headers['Content-Type'] = 'application/json'\r\n      }\r\n      \r\n      const response = await fetch(url, {method, body, headers})\r\n      const data = await response.json()\r\n      \r\n      if(!response.ok) {\r\n        throw new Error(data.errors[0] || 'Что-то не так')\r\n      }\r\n      \r\n      setLoading(false)\r\n      \r\n      return data;\r\n    } \r\n    catch (e) {\r\n      setLoading(false)\r\n      setError(e.message)\r\n      throw e\r\n    }\r\n  }, [])\r\n  \r\n  const clearError = useCallback(() => setError(null), [])\r\n  return {loading, request, error, clearError}\r\n}","export const Constants = {\r\n  API: 'http://68.183.78.15/'\r\n  //API: 'http://localhost:5000/'\r\n}","import React from \"react\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nexport const ProductItem = props => {\r\n  const classes = useStyles()\r\n  const {product, editProduct} = props\r\n\r\n  const changeHandler = event => {\r\n    const newProduct = {...product, [event.target.name]: [event.target.value]}\r\n    editProduct(newProduct)\r\n  }\r\n\r\n  return (\r\n    <Grid container>\r\n      <ListItem key={product.number}>\r\n        <Grid item xs={1}>\r\n          <Typography variant='h6'>{product.number}</Typography>\r\n        </Grid>\r\n        <Grid item container xs={11}>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              value={product.title}\r\n              variant='outlined'\r\n              label='Название'\r\n              size='small'\r\n              name='title'\r\n              onChange={changeHandler}\r\n              className={classes.maxWidth}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <TextField\r\n              value={product.code}\r\n              variant='outlined'\r\n              label='Артикул'\r\n              size='small'\r\n              name='code'\r\n              onChange={changeHandler}\r\n              className={classes.maxWidth}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <TextField\r\n              className={classes.maxWidth}\r\n              value={product.amount}\r\n              variant='outlined'\r\n              label='Количество'\r\n              size='small'\r\n              name='amount'\r\n              onChange={changeHandler}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <TextField\r\n              value={product.price}\r\n              variant='outlined'\r\n              label='Закупочная стоимость'\r\n              size='small'\r\n              name='price'\r\n              onChange={changeHandler}\r\n              className={classes.maxWidth}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </ListItem>\r\n      <Divider variant='inset' component='li'/>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  maxWidth: {\r\n    width: '100%',\r\n    padding: 5\r\n  }\r\n}))","import React, {Fragment, useState} from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {ProductItem} from \"./product-item\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nexport const Form = (props) => {\r\n  const classes = useStyles()\r\n  const {shops, suppliers, categories, saveForm, loading, error, success} = props\r\n\r\n  const [form, setForm] = useState({\r\n    productsText: '',\r\n    shop: null,\r\n    supplier: null,\r\n    supplyType: null,\r\n    category: null\r\n  })\r\n  const [products, setProducts] = useState([])\r\n  const [disabled, setDisabled] = useState(false)\r\n\r\n  const changeFormHandler = event => {\r\n    setForm({...form, [event.target.name]: event.target.value})\r\n  }\r\n\r\n  const productsTextHandle = () => {\r\n    if(form.productsText.length <= 0)\r\n      return\r\n\r\n    const productsText = form.productsText.split('\\n');\r\n    const productsProperties = productsText.map(x => x.split('\\t'));\r\n\r\n    const products = productsProperties.map(x => {\r\n      return {\r\n        number: +(x[0].replace(',', '.').replace(/\\s+/g,'')),\r\n        code: x[1],\r\n        title: x[2],\r\n        amount: +(x[3].replace(',', '.').replace(/\\s+/g,'')),\r\n        price: +(x[5].replace(',', '.').replace(/\\s+/g,'')),\r\n        sum: +(x[6].replace(',', '.').replace(/\\s+/g,''))\r\n      }\r\n    });\r\n\r\n    setProducts(products)\r\n  }\r\n\r\n  const editProduct = (product) => {\r\n    const productIndex = products.findIndex(x => x.number === product.number)\r\n    setProducts([...products.slice(0, productIndex), product, ...products.slice(productIndex + 1)])\r\n  }\r\n\r\n  const saveHandler = () => {\r\n    setDisabled(true)\r\n\r\n    const productsForSave = products.map(product => ({\r\n      ...product, ['price']: product.price + ''\r\n    }))\r\n\r\n    saveForm({...form, products: productsForSave})\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Grid item xs={4}>\r\n        <FormControl className={classes.formControl}>\r\n          <InputLabel id='shop-select'>Магазин</InputLabel>\r\n          <Select\r\n            labelId='shop-select'\r\n            value={form.shop}\r\n            onChange={changeFormHandler}\r\n            name='shop'\r\n          >\r\n            <MenuItem value={0}>Выбрать магазин</MenuItem>\r\n            {shops.map(shop => (\r\n              <MenuItem key={shop.id} value={shop.id}>{shop.title}</MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n        <FormControl className={classes.formControl}>\r\n          <InputLabel id='shop-select'>Поставщика</InputLabel>\r\n          <Select\r\n            labelId='shop-select'\r\n            value={form.supplier}\r\n            onChange={changeFormHandler}\r\n            name='supplier'\r\n          >\r\n            <MenuItem value={0}>Выбрать поставщика</MenuItem>\r\n            {suppliers.map(supplier => (\r\n              <MenuItem key={supplier.id} value={supplier.id}>{supplier.name}</MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n        <FormControl className={classes.formControl}>\r\n          <InputLabel id='shop-select'>Тип товара</InputLabel>\r\n          <Select\r\n            labelId='shop-select'\r\n            value={form.supplyType}\r\n            onChange={changeFormHandler}\r\n            name='supplyType'\r\n          >\r\n            <MenuItem value={0}>Выбрать тип товара</MenuItem>\r\n            <MenuItem value={1}>Оплаченный товар</MenuItem>\r\n            <MenuItem value={2}>Товар под реализацию</MenuItem>\r\n            <MenuItem value={3}>Отсроченый платёж</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n        <FormControl className={classes.formControl}>\r\n          <InputLabel id='shop-select'>Категория</InputLabel>\r\n          <Select\r\n            labelId='shop-select'\r\n            value={form.category}\r\n            onChange={changeFormHandler}\r\n            name='category'\r\n          >\r\n            <MenuItem value={0}>Выбрать категорию</MenuItem>\r\n            {categories.map(category => (\r\n              <MenuItem key={category.id} value={category.id}>{category.title}</MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n        <br/>\r\n        <TextField\r\n          label=\"Внесите товары\"\r\n          multiline\r\n          rows={10}\r\n          variant=\"outlined\"\r\n          value={form.productsText}\r\n          onChange={changeFormHandler}\r\n          name=\"productsText\"\r\n          fullWidth\r\n        />\r\n        <br/>\r\n        <Button\r\n          variant=\"contained\"\r\n          color='primary'\r\n          onClick={productsTextHandle}\r\n        >\r\n          Обработать\r\n        </Button>\r\n        <br/>\r\n        <br/>\r\n        <br/>\r\n        <br/>\r\n        <br/>\r\n        <Button\r\n          variant='contained'\r\n          color='primary'\r\n          onClick={saveHandler}\r\n          disabled={disabled}\r\n        >\r\n          Сохранить\r\n        </Button>\r\n        <br/>\r\n        <br/>\r\n        {loading && <CircularProgress/>}\r\n        {error && <p>Ошибка: {error}</p>}\r\n        {success && <p>Успех!</p>}\r\n      </Grid>\r\n      <Grid item xs={7}>\r\n        <List>\r\n          {products.map(product => (\r\n            <ProductItem\r\n              key={product.number}\r\n              product={product}\r\n              editProduct={editProduct}\r\n            />\r\n          ))}\r\n        </List>\r\n      </Grid>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  }\r\n}));","import React, {useCallback, useEffect, useState} from \"react\";\r\nimport {useHttp} from \"../../hooks/http.hook\";\r\nimport {Constants} from \"../../const\";\r\nimport {Form} from \"../../components/import-form/form\";\r\n\r\nconst API = Constants.API\r\n\r\nexport const ImportPage = () => {\r\n  const {request, loading, error} = useHttp()\r\n\r\n  const [shops, setShops] = useState([])\r\n  const [categories, setCategories] = useState([])\r\n  const [suppliers, setSuppliers] = useState([])\r\n  const [saveSuccess, setSaveSuccess] = useState(false)\r\n\r\n  const getShops = useCallback(async () => {\r\n    try {\r\n      const data = await request(API + 'api/shops')\r\n      setShops(data)\r\n    }\r\n    catch (e) {}\r\n  }, [request])\r\n\r\n  const getCategories = useCallback(async () => {\r\n    try {\r\n      const data = await request(API + 'api/categories')\r\n      setCategories(data)\r\n    }\r\n    catch (e) {}\r\n  }, [request])\r\n\r\n  const getSuppliers = useCallback(async () => {\r\n    try {\r\n      const data = await request(API + 'api/suppliers')\r\n      setSuppliers(data)\r\n    }\r\n    catch (e) {}\r\n  }, [request])\r\n\r\n  useEffect(() => {\r\n    getShops()\r\n    getCategories()\r\n    getSuppliers()\r\n  }, [getShops, getCategories, getSuppliers])\r\n\r\n  const saveForm = async (data) => {\r\n    try {\r\n      const response = await request(API + 'api/supplyProducts/import', 'POST', {...data})\r\n      setSaveSuccess(true)\r\n    }\r\n    catch (e) { }\r\n  }\r\n  \r\n  return (\r\n    <Form\r\n      shops={shops}\r\n      suppliers={suppliers}\r\n      categories={categories}\r\n      saveForm={saveForm}\r\n      loading={loading}\r\n      error={error}\r\n      success={saveSuccess}\r\n    />\r\n  )\r\n}","import React from \"react\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nexport const ProductTableFilters = props => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-label\">Магазин</InputLabel>\r\n        <Select\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={props.shop}\r\n          onChange={props.handleChangeShop}\r\n        >\r\n          <MenuItem value={0}>Выбрать магазин</MenuItem>\r\n          {props.shops.map(shop => (\r\n            <MenuItem key={shop.id} value={shop.id}>{shop.title}</MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-label\">Категория</InputLabel>\r\n        <Select\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={props.category}\r\n          onChange={props.handleChangeCategory}\r\n        >\r\n          <MenuItem value={0}>Выбрать категорию</MenuItem>\r\n          {props.categories.map(category => (\r\n            <MenuItem key={category.id} value={category.id}>{category.title}</MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <TextField\r\n          label=\"Поиск по названию\"\r\n          onChange={props.handleChangeTitle}\r\n        />\r\n      </FormControl>\r\n    </>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  }\r\n}));","import React from \"react\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\n\r\nexport const ProductsTable = props => {\r\n  const {products, shop, category,\r\n    title, page, rowsPerPage, handleOpenDialog} = props\r\n\r\n  return (\r\n    <TableContainer>\r\n      <Table>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Артикул</TableCell>\r\n            <TableCell>Название</TableCell>\r\n            <TableCell>Количество</TableCell>\r\n            <TableCell>Цена</TableCell>\r\n            <TableCell>Магазин</TableCell>\r\n            <TableCell>Категория</TableCell>\r\n            <TableCell>Действия</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {products\r\n          .filter(row => shop !== 0\r\n            ? row.shopId === shop\r\n            : true)\r\n          .filter(row => category !== 0\r\n            ? row.categoryId === category\r\n            : true)\r\n          .filter(row => title !== ''\r\n            ? row.title.toLowerCase().includes(title.toLowerCase())\r\n            : true)\r\n          .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n          .map(row => (\r\n            <TableRow key={row.id}>\r\n              <TableCell>{row.code}</TableCell>\r\n              <TableCell>{row.title}</TableCell>\r\n              <TableCell>{row.amount}</TableCell>\r\n              <TableCell>{row.price}</TableCell>\r\n              <TableCell>{row.shop}</TableCell>\r\n              <TableCell>{row.category}</TableCell>\r\n              <TableCell>\r\n                <Button variant=\"contained\" onClick={handleOpenDialog.bind(this, row)}>\r\n                  Detail\r\n                </Button>\r\n              </TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  )\r\n}","import React from \"react\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\n\r\nexport const ProductsTablePaginator = props => {\r\n  const {products, shop, category, title,\r\n    rowsPerPage, page, handleChangePage, handleChangeRowsPerPage} = props\r\n\r\n  return (\r\n    <TablePagination\r\n      rowsPerPageOptions={[10, 25, 50, 100]}\r\n      component='div'\r\n      count={products\r\n      .filter(row => shop !== 0\r\n        ? row.shopId === shop\r\n        : true)\r\n      .filter(row => category !== 0\r\n        ? row.categoryId === category\r\n        : true)\r\n      .filter(row => title !== ''\r\n        ? row.title.toLowerCase().includes(title.toLowerCase())\r\n        : true)\r\n        .length}\r\n      rowsPerPage={rowsPerPage}\r\n      page={page}\r\n      onChangePage={handleChangePage}\r\n      onChangeRowsPerPage={handleChangeRowsPerPage}\r\n    />\r\n  )\r\n}","import React, {useState} from \"react\";\r\nimport {ProductTableFilters} from \"./product-table-filters\";\r\nimport {ProductsTable} from \"./products-table\";\r\nimport {ProductsTablePaginator} from \"./products-table-paginator\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\n\r\nexport const Products = props => {\r\n  const classes = useStyles()\r\n\r\n  const {shops, categories, products} = props\r\n\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [shop, setShop] = useState(0);\r\n  const [category, setCategory] = useState(0);\r\n  const [title, setTitle] = useState('');\r\n\r\n  const [openDialog, setOpenDialog] = useState(false)\r\n  const [detailProduct, setDetailProduct] = useState(null)\r\n\r\n  const handleOpenDialog = (product) => {\r\n    setDetailProduct(product)\r\n    setOpenDialog(true)\r\n  }\r\n\r\n  const handleCloseDialog = () => {\r\n    setOpenDialog(false)\r\n  }\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(+event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  const handleChangeShop = (event) => {\r\n    setShop(event.target.value);\r\n  };\r\n\r\n  const handleChangeCategory = event => {\r\n    setCategory(event.target.value)\r\n  }\r\n\r\n  const handleChangeTitle = event => {\r\n    setTitle(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ProductTableFilters\r\n        shops={shops}\r\n        shop={shop}\r\n        handleChangeShop={handleChangeShop}\r\n        categories={categories}\r\n        category={category}\r\n        handleChangeCategory={handleChangeCategory}\r\n        handleChangeTitle={handleChangeTitle}\r\n      />\r\n      <ProductsTable\r\n        products={products}\r\n        shop={shop}\r\n        category={category}\r\n        title={title}\r\n        page={page}\r\n        rowsPerPage={rowsPerPage}\r\n        handleOpenDialog={handleOpenDialog}\r\n      />\r\n      <ProductsTablePaginator\r\n        products={products}\r\n        shop={shop}\r\n        category={category}\r\n        title={title}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        handleChangePage={handleChangePage}\r\n        handleChangeRowsPerPage={handleChangeRowsPerPage}\r\n      />\r\n      <Dialog open={openDialog} onClose={handleCloseDialog}>\r\n        <DialogTitle>Product</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            autoFocus\r\n            label='Название'\r\n            type='text'\r\n            margin='dense'\r\n          />\r\n          <TextField\r\n            label='Артикул'\r\n            type='text'\r\n            margin='dense'\r\n          />\r\n          <TextField\r\n            label='Стоимость для продажи'\r\n            type='number'\r\n            margin='dense'\r\n          />\r\n          <FormControl className={classes.formControl}>\r\n            <InputLabel id='category-select'>Категория</InputLabel>\r\n            <Select\r\n              labelId='category-select'\r\n            >\r\n              <MenuItem>1111</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <FormControl className={classes.formControl}>\r\n            <InputLabel id='shop-select'>Магазин</InputLabel>\r\n            <Select\r\n              labelId='shop-select'\r\n            >\r\n              <MenuItem>1111</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  }\r\n}));","import React, {useCallback, useEffect, useState} from 'react'\r\nimport {useHttp} from \"../../hooks/http.hook\";\r\nimport {Constants} from \"../../const\";\r\nimport {Products} from \"../../components/admin-products/products\";\r\n\r\nconst API = Constants.API\r\n\r\nexport const ProductsPage = () => {\r\n  const {loading, request} = useHttp()\r\n  const [products, setProducts] = useState([])\r\n  const [shops, setShops] = useState([])\r\n  const [categories, setCategories] = useState([])\r\n\r\n  const getProducts = useCallback(async () => {\r\n    try {\r\n      const data = await request(API + 'api/products')\r\n      setProducts(data)\r\n    }\r\n    catch (e) {}\r\n  }, [request])\r\n\r\n  const getShops = useCallback(async () => {\r\n    try {\r\n      const data = await request(API + 'api/shops')\r\n      setShops(data)\r\n    }\r\n    catch (e) {}\r\n  }, [request])\r\n\r\n  const getCategories = useCallback(async () => {\r\n    try {\r\n      const data = await request(API + 'api/categories')\r\n      setCategories(data)\r\n    }\r\n    catch (e) {\r\n    }\r\n  }, [request])\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n    getShops()\r\n    getCategories()\r\n  }, [getProducts, getShops, getCategories])\r\n\r\n  if(loading)\r\n    return (\r\n      <div>Загрузка...</div>\r\n    )\r\n  else\r\n    return (\r\n      <Products\r\n        shops={shops}\r\n        categories={categories}\r\n        products={products}\r\n      />\r\n    )\r\n}","import React, {useCallback, useEffect, useState} from 'react'\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {useHttp} from \"../../hooks/http.hook\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport {Constants} from \"../../const\";\r\nimport {KeyboardDatePicker, MuiPickersUtilsProvider} from \"@material-ui/pickers\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\n\r\nconst API = Constants.API\r\n\r\nexport const ProductsHistory = () => {\r\n  const classes = useStyles()\r\n  const [products, setProducts] = useState([])\r\n  const [shops, setShops] = useState([])\r\n  const [shop, setShop] = useState(0)\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const {loading, request} = useHttp()\r\n  const [startDate, setStartDate] = useState(null)\r\n  const [endDate, setEndDate] = useState(null)\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(+event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  const handleChangeShop = (event) => {\r\n    setShop(event.target.value);\r\n  };\r\n\r\n  const getProducts = useCallback(async () => {\r\n    try {\r\n      const data = await request(API + 'api/productsHistory')\r\n      setProducts(data.map(product => (\r\n        {...product, date: new Date(product.dateTime)}\r\n      )))\r\n    }\r\n    catch (e) {}\r\n  }, [request])\r\n\r\n  const getShops = useCallback(async () => {\r\n    try {\r\n      const data = await request(API + 'api/shops')\r\n      setShops(data)\r\n    }\r\n    catch (e) {}\r\n  }, [request])\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n    getShops()\r\n  }, [getProducts, getShops])\r\n\r\n  return(\r\n    <>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-label\">Магазин</InputLabel>\r\n        <Select\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={shop}\r\n          onChange={handleChangeShop}\r\n        >\r\n          <MenuItem value={0}>Выбрать магазин</MenuItem>\r\n          {shops.map(shop => (\r\n            <MenuItem key={shop.id} value={shop.id}>{shop.title}</MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <TextField\r\n          label=\"Дата с\"\r\n          type=\"date\"\r\n          defaultValue=\"\"\r\n          className={classes.textField}\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n          onChange={event => setStartDate(new Date(event.target.value))}\r\n        />\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n          <KeyboardDatePicker\r\n            disableToolbar\r\n            variant='inline'\r\n            format='MM/dd/yyyy'\r\n            margin='normal'\r\n            label='Дата с'\r\n            value={startDate}\r\n            onChange={event => setStartDate(event)}\r\n            KeyboardButtonProps={{\r\n              'aria-label': 'change date',\r\n            }}\r\n          />\r\n        </MuiPickersUtilsProvider>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <TextField\r\n          label=\"Дата по\"\r\n          type=\"date\"\r\n          defaultValue=\"\"\r\n          className={classes.textField}\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n          onChange={event => setEndDate(new Date(event.target.value))}\r\n        />\r\n      </FormControl>\r\n      <TableContainer>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Дата</TableCell>\r\n              <TableCell>Товар</TableCell>\r\n              <TableCell>Количество</TableCell>\r\n              <TableCell>Поставщик</TableCell>\r\n              <TableCell>Тип</TableCell>\r\n              <TableCell>Магазин</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {products\r\n              .filter(row => shop !== 0\r\n                ? row.shopId === shop\r\n                : true)\r\n              .filter(row => startDate\r\n                ? row.date >= startDate\r\n                : true)\r\n              .filter(row => endDate\r\n                ? row.date <= endDate\r\n                : true)\r\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n              .map(row => (\r\n              <TableRow key={row.id}>\r\n                <TableCell>{row.date.toLocaleDateString()}</TableCell>\r\n                <TableCell>{row.productTitle}</TableCell>\r\n                <TableCell>{row.amount}</TableCell>\r\n                <TableCell>{row.supplierName}</TableCell>\r\n                <TableCell>{row.type}</TableCell>\r\n                <TableCell>{row.shopTitle}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <TablePagination\r\n        rowsPerPageOptions={[10, 25, 50, 100]}\r\n        component='div'\r\n        count={products\r\n          .filter(row => shop !== 0\r\n            ? row.shopId === shop\r\n            : true)\r\n          .filter(row => startDate\r\n            ? row.date >= startDate\r\n            : true)\r\n          .filter(row => endDate\r\n            ? row.date <= endDate\r\n            : true)\r\n          .length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onChangePage={handleChangePage}\r\n        onChangeRowsPerPage={handleChangeRowsPerPage}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));","import React, {useCallback, useEffect, useState} from 'react'\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport {useHttp} from \"../../hooks/http.hook\";\r\n\r\nexport const ManagersPage = () => {\r\n  const {loading, request} = useHttp()\r\n  const [managers, setManagers] = useState([]);\r\n  \r\n  const getManagers = useCallback(async () => {\r\n    try {\r\n      const data = await request('http://localhost:5000/api/managers')\r\n      setManagers(data)\r\n    } \r\n    catch (e) {}\r\n  }, [request])\r\n  \r\n  useEffect(() => {\r\n    getManagers()\r\n  }, [getManagers])\r\n  \r\n  if(loading)\r\n    return (\r\n      <div>Загрузка...</div>\r\n    )\r\n  else\r\n    return (\r\n      <TableContainer>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Имя</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {managers.map(row => (\r\n              <TableRow key={row.id}>\r\n                <TableCell>{row.name}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    )\r\n}","import React from \"react\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nexport const SupplyProductItem = props => {\r\n  const classes = useStyles()\r\n\r\n  const {index, changeFormHandler} = props\r\n  const {productId, amount, shopId, supplierId, procurementCost} = props.supplyProduct\r\n\r\n  const products = [{id: 1, title: 'product1'}, {id: 2, title: 'product2'}]\r\n  const shops = [{id: 2, title: 'shop1'}]\r\n  const suppliers = [{id: 1, title: 'supplier1'}]\r\n\r\n  const changeProduct = event => {\r\n    changeFormHandler(index, event)\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id='product-select'>Товар</InputLabel>\r\n        <Select\r\n          labelId='product-select'\r\n          name='productId'\r\n          value={productId}\r\n          onChange={changeProduct}\r\n        >\r\n          <MenuItem value={0}>Выбрать товар</MenuItem>\r\n          {products.map(product => (\r\n            <MenuItem key={product.id} value={product.id}>{product.title}</MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <TextField\r\n          label='Количество'\r\n          value={amount}\r\n          onChange={changeProduct}\r\n          name='amount'\r\n        />\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id='shop-select'>Магазин</InputLabel>\r\n        <Select\r\n          labelId='shop-select'\r\n          name='shopId'\r\n          value={shopId}\r\n          onChange={changeProduct}\r\n        >\r\n          <MenuItem value={0}>Выбрать магазин</MenuItem>\r\n          {shops.map(shop => (\r\n            <MenuItem key={shop.id} value={shop.id}>{shop.title}</MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id='supplier-select'>Поставщик</InputLabel>\r\n        <Select\r\n          labelId='supplier-select'\r\n          name='supplierId'\r\n          value={supplierId}\r\n          onChange={changeProduct}\r\n        >\r\n          <MenuItem value={0}>Выбрать поставшика</MenuItem>\r\n          {suppliers.map(supplier => (\r\n            <MenuItem key={supplier.id} value={supplier.id}>{supplier.title}</MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      <FormControl className={classes.formControl}>\r\n        <TextField\r\n          label='Закупочная стоимость'\r\n          value={procurementCost}\r\n          onChange={changeProduct}\r\n          name='procurementCost'\r\n        />\r\n      </FormControl>\r\n    </>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  }\r\n}));","import React, {useState} from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport {SupplyProductItem} from \"./supply-product-item\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nexport const SupplyProductForm = () => {\r\n  const classes = useStyles()\r\n\r\n  const [supplyProducts, setSupplyProducts] = useState([\r\n    {\r\n      productId: 0,\r\n      amount: 0,\r\n      shopId: 0,\r\n      supplierId: 0,\r\n      procurementCost: 0\r\n    }\r\n  ])\r\n\r\n  const changeFormHandler = (index, event) => {\r\n    const supplyProduct = supplyProducts[index]\r\n    const changeItemState = {...supplyProduct, [event.target.name]: event.target.value}\r\n\r\n    setSupplyProducts([\r\n      ...supplyProducts.slice(0, index),\r\n      changeItemState,\r\n      ...supplyProducts.slice(index + 1)\r\n    ])\r\n  }\r\n\r\n  const addSupplyProduct = () => {\r\n    setSupplyProducts([...supplyProducts, {\r\n      productId: 0,\r\n      amount: 0,\r\n      shopId: 0,\r\n      supplierId: 0,\r\n      procurementCost: 0\r\n    }])\r\n  }\r\n\r\n  const saveForm = () => {\r\n    console.log(supplyProducts)\r\n  }\r\n\r\n  return(\r\n    <>\r\n      {supplyProducts.map((supplyProduct, index) => (\r\n        <SupplyProductItem\r\n          key={index}\r\n          supplyProduct={supplyProduct}\r\n          changeFormHandler={changeFormHandler}\r\n          index={index}\r\n        />\r\n      ))}\r\n      <Button\r\n        onClick={addSupplyProduct}\r\n      >\r\n        Добавить товар\r\n      </Button>\r\n      <Button\r\n        onClick={saveForm}\r\n      >\r\n        Сохранить\r\n      </Button>\r\n    </>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  }\r\n}));","import {createEffect, createStore} from \"effector\";\r\nimport {Constants} from \"../const\";\r\n\r\nconst API_URL = Constants.API\r\nconst API_SHOPS = API_URL + 'api/shops'\r\n\r\nexport const fetchShopsFx = createEffect({\r\n  async handler() {\r\n    const res = await fetch(API_SHOPS)\r\n    return res.json()\r\n  }\r\n})\r\n\r\nexport const saveShopFx = createEffect({\r\n  async handler(title) {\r\n    const data = {title}\r\n\r\n    const res = await fetch(API_SHOPS, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      method: 'POST',\r\n      body: JSON.stringify(data)\r\n    })\r\n\r\n    return res.json()\r\n  }\r\n})\r\n\r\nexport const shops = createStore([])\r\n  .on(fetchShopsFx.doneData, (state, shops) => [...shops])\r\n  .on(saveShopFx.doneData, (state, shop) => [...state, shop])","import React, {useState} from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {saveShopFx} from \"../../store/shop-store\";\r\n\r\nexport const ShopCreate = () => {\r\n\r\n  const [title, setTitle] = useState('')\r\n  const [disabled, setDisabled] = useState(false)\r\n\r\n  const saveHandler = () => {\r\n    setDisabled(true)\r\n    saveShopFx(title)\r\n\r\n    setTitle('')\r\n    setDisabled(false)\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <TextField\r\n        label='Название'\r\n        value={title}\r\n        onChange={event => setTitle(event.target.value)}\r\n        name='title'\r\n      />\r\n      <Button\r\n        onClick={saveHandler}\r\n        variant='contained'\r\n        color='primary'\r\n        disabled={disabled}\r\n      >\r\n        Сохранить\r\n      </Button>\r\n    </>\r\n  )\r\n}","import React, {useEffect} from \"react\";\r\nimport {fetchShopsFx, shops} from \"../../store/shop-store\";\r\nimport {useStore} from \"effector-react\";\r\nimport {ShopCreate} from \"./shop-create\";\r\n\r\nexport const ShopsList = () => {\r\n\r\n  useEffect(() => {\r\n    fetchShopsFx()\r\n  }, [])\r\n\r\n  const shopsData = useStore(shops)\r\n\r\n  return(\r\n    <>\r\n      <ShopCreate/>\r\n      <ul>\r\n        {shopsData.map(shop => (\r\n          <li>{shop.id} / {shop.title}</li>\r\n        ))}\r\n      </ul>\r\n    </>\r\n  )\r\n}","import {Constants} from \"../const\";\r\nimport {createEffect, createStore} from \"effector\";\r\n\r\nconst API_URL = Constants.API\r\nconst API_SUPPLIERS = API_URL + 'api/suppliers'\r\n\r\nexport const fetchSuppliersFx = createEffect({\r\n  async handler() {\r\n    const res = await fetch(API_SUPPLIERS)\r\n    return res.json()\r\n  }\r\n})\r\n\r\nexport const createSupplierFx = createEffect({\r\n  async handler(name, phone, email) {\r\n    const data = {name, phone, email}\r\n\r\n    const res = await fetch(API_SUPPLIERS, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      method: 'POST',\r\n      body: JSON.stringify(data)\r\n    })\r\n\r\n    return res.json()\r\n  }\r\n})\r\n\r\nexport const suppliers = createStore([])\r\n  .on(fetchSuppliersFx.doneData, (state, suppliers) => [...suppliers])\r\n  .on(createSupplierFx.doneData, (state, supplier) => [...state, supplier])","import React, {useState} from \"react\";\r\nimport {createSupplierFx} from \"../../store/supplier-store\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nexport const SupplierCreate = () => {\r\n\r\n  const [name, setName] = useState('')\r\n  const [phone, setPhone] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [disabled, setDisabled] = useState(false)\r\n\r\n  const saveHandler = () => {\r\n    setDisabled(true)\r\n    createSupplierFx(name, phone, email)\r\n\r\n    setName('')\r\n    setDisabled(false)\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <TextField\r\n        label='Имя поставщика'\r\n        value={name}\r\n        onChange={event => setName(event.target.value)}\r\n        name='name'\r\n      />\r\n      <TextField\r\n        label='Телефон'\r\n        value={phone}\r\n        onChange={event => setPhone(event.target.value)}\r\n        name='phone'\r\n      />\r\n      <TextField\r\n        label='Почта'\r\n        value={email}\r\n        onChange={event => setEmail(event.target.value)}\r\n        name='email'\r\n      />\r\n      <Button\r\n       onClick={saveHandler}\r\n       variant='contained'\r\n       color='primary'\r\n       disabled={disabled}\r\n      >\r\n        Сохранить\r\n      </Button>\r\n    </>\r\n  )\r\n}","import React, {useEffect} from \"react\";\r\nimport {fetchSuppliersFx, suppliers} from \"../../store/supplier-store\";\r\nimport {useStore} from \"effector-react\";\r\nimport {SupplierCreate} from \"./supplier-create\";\r\n\r\nexport const SuppliersList = () => {\r\n\r\n  useEffect(() => {\r\n    fetchSuppliersFx()\r\n  }, [])\r\n\r\n  const suppliersData = useStore(suppliers)\r\n\r\n  return(\r\n    <>\r\n      <SupplierCreate/>\r\n      <ul>\r\n        {suppliersData.map(supplier => (\r\n          <li>{supplier.id} / {supplier.name}</li>\r\n        ))}\r\n      </ul>\r\n    </>\r\n  )\r\n}","import {Constants} from \"../const\";\r\nimport {createEffect, createStore} from \"effector\";\r\n\r\nconst API_URL = Constants.API\r\nconst API_CATEGORIES = API_URL + 'api/categories'\r\n\r\nexport const fetchCategoriesFx = createEffect({\r\n  async handler() {\r\n    const res = await fetch(API_CATEGORIES)\r\n    return res.json()\r\n  }\r\n})\r\n\r\nexport const createCategoryFx = createEffect({\r\n  async handler(title) {\r\n    const data = {title}\r\n\r\n    const res = await fetch(API_CATEGORIES, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      method: 'POST',\r\n      body: JSON.stringify(data)\r\n    })\r\n\r\n    return res.json()\r\n  }\r\n})\r\n\r\nexport const categories = createStore([])\r\n  .on(fetchCategoriesFx.doneData, (state, categories) => [...categories])\r\n  .on(createCategoryFx.doneData, (state, category) => [...state, category])","import React, {useState} from \"react\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { createCategoryFx } from \"../../store/category-store\";\r\n\r\nexport const CategoryCreate = () => {\r\n\r\n  const [title, setTitle] = useState('')\r\n  const [disabled, setDisabled] = useState(false)\r\n\r\n  const saveHandler = () => {\r\n    setDisabled(true);\r\n    createCategoryFx(title);\r\n\r\n    setTitle('');\r\n    setDisabled(false);\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <TextField\r\n        label='Название'\r\n        value={title}\r\n        onChange={event => setTitle(event.target.value)}\r\n        name='title'\r\n      />\r\n      <Button\r\n       onClick={saveHandler}\r\n       variant='contained'\r\n       color='primary'\r\n       disabled={disabled}\r\n      >\r\n        Сохранить\r\n      </Button>\r\n    </>\r\n  )\r\n}","import React, {useEffect} from \"react\";\r\n\r\nimport {useStore} from \"effector-react\";\r\nimport { fetchCategoriesFx, categories } from \"../../store/category-store\";\r\nimport { CategoryCreate } from './category-create';\r\n\r\nexport const CategoriesList = () => {\r\n\r\n  useEffect(() => {\r\n    fetchCategoriesFx()\r\n  }, [])\r\n\r\n  const categoriesData = useStore(categories)\r\n\r\n  return(\r\n    <>\r\n      <CategoryCreate />\r\n      <ul>\r\n        {categoriesData.map(category => (\r\n          <li>{category.id} / {category.title}</li>\r\n        ))}\r\n      </ul>\r\n    </>\r\n  )\r\n}","import {Constants} from \"../const\";\r\nimport {createEffect, createStore} from \"effector\";\r\n\r\nconst API_URL = Constants.API\r\nconst API_SUPPLYPRODUCTS = API_URL + 'api/supplyProducts'\r\n\r\nexport const fetchSupplyProductsFx = createEffect({\r\n  async handler() {\r\n    const res = await fetch(API_SUPPLYPRODUCTS)\r\n    return res.json()\r\n  }\r\n})\r\n\r\nexport const supplyProducts = createStore([])\r\n  .on(fetchSupplyProductsFx.doneData, (state, supplyProducts) => [...supplyProducts])","import React, {useEffect, useState} from \"react\";\r\nimport {fetchSupplyProductsFx, supplyProducts} from \"../../../store/supply-product-store\";\r\nimport {useStore} from \"effector-react\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nexport const SupplyProductsList = () => {\r\n\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [minProcurementCost, setMinProcurementCost] = useState(0)\r\n\r\n  useEffect(() => {\r\n    fetchSupplyProductsFx()\r\n  }, [])\r\n\r\n  const data = useStore(supplyProducts)\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(+event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  return(\r\n    <>\r\n      <FormControl>\r\n        <TextField\r\n          label=\"Закупочная стоимость\"\r\n          defaultValue=\"0\"\r\n          onChange={event => setMinProcurementCost(event.target.value)}\r\n        />\r\n      </FormControl>\r\n      <TableContainer>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Id</TableCell>\r\n              <TableCell>Товар</TableCell>\r\n              <TableCell>Закупочная цена</TableCell>\r\n              <TableCell>Кол-во на складе</TableCell>\r\n              <TableCell>Поставленное кол-во</TableCell>\r\n              <TableCell>Магазин</TableCell>\r\n              <TableCell>Поставщик</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {data\r\n              .filter(row => row.procurementCost >= minProcurementCost)\r\n              //.sort((a, b) => (b.procurementCost - a.procurementCost))\r\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n              .map(row => (\r\n                <TableRow key={row.supplyProductId}>\r\n                  <TableCell>{row.supplyProductId}</TableCell>\r\n                  <TableCell>{row.productTitle}</TableCell>\r\n                  <TableCell>{row.procurementCost}</TableCell>\r\n                  <TableCell>{row.shopAmount}</TableCell>\r\n                  <TableCell>{row.suppliedAmount}</TableCell>\r\n                  <TableCell>{row.shopTitle}</TableCell>\r\n                  <TableCell>{row.supplierName}</TableCell>\r\n                </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <TablePagination\r\n        rowsPerPageOptions={[10, 25, 50, 100]}\r\n        component='div'\r\n        count={data\r\n          .filter(row => row.procurementCost >= minProcurementCost)\r\n          .length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onChangePage={handleChangePage}\r\n        onChangeRowsPerPage={handleChangeRowsPerPage}\r\n      />\r\n    </>\r\n  )\r\n}","import React from \"react\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport List from \"@material-ui/core/List\";\r\n\r\nexport const Menu = () => {\r\n\r\n  return (\r\n    <List>\r\n      <ListItem>\r\n        <a href='/'>\r\n          Старый интерфейс\r\n        </a>\r\n      </ListItem>\r\n      <ListItem button>\r\n        <NavLink to={'/admin/import'}>\r\n          <ListItemText primary={'Импорт'}/>\r\n        </NavLink>\r\n      </ListItem>\r\n      <ListItem button>\r\n        <NavLink to={'/admin/supply'}>\r\n          <ListItemText primary={'Поставка'}/>\r\n        </NavLink>\r\n      </ListItem>\r\n      <ListItem button>\r\n        <NavLink to={'/admin/supplyProductsList'}>\r\n          <ListItemText primary={'Список поставок'}/>\r\n        </NavLink>\r\n      </ListItem>\r\n      <ListItem button>\r\n        <NavLink to={'/admin/managers'}>\r\n          <ListItemText primary={'Менеджеры'}/>\r\n        </NavLink>\r\n      </ListItem>\r\n      <ListItem button>\r\n        <NavLink to={'/admin/products'}>\r\n          <ListItemText primary={'Все товары'}/>\r\n        </NavLink>\r\n      </ListItem>\r\n      <ListItem button>\r\n        <NavLink to={'/admin/productsHistory'}>\r\n          <ListItemText primary={'История товаров'}/>\r\n        </NavLink>\r\n      </ListItem>\r\n      <ListItem button>\r\n        <NavLink to={'/admin/shops'}>\r\n          <ListItemText primary={'Магазины'}/>\r\n        </NavLink>\r\n      </ListItem>\r\n      <ListItem button>\r\n        <NavLink to={'/admin/suppliers'}>\r\n          <ListItemText primary={'Поставщики'}/>\r\n        </NavLink>\r\n      </ListItem>\r\n      <ListItem button>\r\n        <NavLink to={'/admin/categories'}>\r\n          <ListItemText primary={'Категории'}/>\r\n        </NavLink>\r\n      </ListItem>\r\n    </List>\r\n  )\r\n}","import React from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Menu} from \"../menu/menu\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  }\r\n}));\r\n\r\nexport const AdminLayout = props => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={1}>\r\n          <Menu/>\r\n        </Grid>\r\n        <Grid container item xs={11}>\r\n          {props.page}\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  )\r\n}","import {createContext} from 'react'\r\n\r\n\r\nexport const AuthContext = createContext({\r\n  userId: null,\r\n  userRole: '',\r\n  isAuth: false\r\n})","import React, {useCallback, useState} from 'react';\nimport {BrowserRouter} from 'react-router-dom'\nimport {useRoutes} from \"./routes\";\nimport {AdminLayout} from \"./components/layouts/admin.layout\";\nimport {AuthContext} from \"./contexts/auth.context\";\nimport {useCookies} from \"react-cookie\";\n\nfunction App() {\n  const routes = useRoutes()\n  const [cookie] = useCookies()\n\n  const userId = cookie.userId\n  const userRole = 'Administrator'//cookie.userRole\n  const isAuth = !!userId\n\n  if(userRole === 'Administrator')\n    return (\n      <AuthContext.Provider value={{\n        userId, userRole, isAuth\n      }}>\n        <BrowserRouter>\n          <AdminLayout page={routes} />\n        </BrowserRouter>\n      </AuthContext.Provider>\n    )\n\n  if(userRole === 'Manager')\n    return (\n      <h1>Manager</h1>\n    )\n\n  return (\n    <h1>Нет авторизации</h1>\n  )\n\n}\n\nexport default App;\n","import React from \"react\";\r\nimport {Switch, Route, Redirect} from 'react-router-dom'\r\nimport {ImportPage} from \"./pages/admin/import.page\";\r\nimport {ProductsPage} from \"./pages/admin/products.page\";\r\nimport {ProductsHistory} from \"./pages/admin/products-history.page\";\r\nimport {ManagersPage} from \"./pages/admin/managers.page\";\r\nimport {SupplyProductForm} from \"./components/supply-product/form/supply-product-form\";\r\nimport {ShopsList} from \"./components/shop/shops-list\";\r\nimport {SuppliersList} from \"./components/supplier/suppliers-list\";\r\nimport { CategoriesList } from \"./components/categories/categories-list\";\r\nimport {SupplyProductsList} from \"./components/supply-product/list/supply-products-list\";\r\n\r\nexport const useRoutes = () => {\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path='/admin/import' exact>\r\n        <ImportPage/>\r\n      </Route>\r\n      <Route path='/admin/supply' exact>\r\n        <SupplyProductForm/>\r\n      </Route>\r\n      <Route path='/admin/products' exact>\r\n        <ProductsPage/>\r\n      </Route>\r\n      <Route path='/admin/productsHistory' exact>\r\n        <ProductsHistory/>\r\n      </Route>\r\n      <Route path='/admin/managers' exact>\r\n        <ManagersPage/>\r\n      </Route>\r\n      <Route path='/admin/shops' exact>\r\n        <ShopsList/>\r\n      </Route>\r\n      <Route path='/admin/suppliers' exact>\r\n        <SuppliersList/>\r\n      </Route>\r\n      <Route path='/admin/categories' exact>\r\n        <CategoriesList/>\r\n      </Route>\r\n      <Route path='/admin/supplyProductsList' exact>\r\n        <SupplyProductsList/>\r\n      </Route>\r\n      <Redirect to='/admin/import'/>\r\n    </Switch>\r\n  )\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}