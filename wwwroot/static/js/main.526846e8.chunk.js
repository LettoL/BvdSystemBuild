(this["webpackJsonpclient-app"]=this["webpackJsonpclient-app"]||[]).push([[0],{148:function(e,t,a){e.exports=a(164)},153:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l),u=(a(153),a(8)),o=a(24),i=a(59),m=a(14),s=a(7),d=a.n(s),p=a(13),f=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(null),c=Object(u.a)(l,2),o=c[0],i=c[1];return{loading:a,request:Object(n.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,l,c,u,o=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"GET",n=o.length>2&&void 0!==o[2]?o[2]:null,l=o.length>3&&void 0!==o[3]?o[3]:{},r(!0),e.prev=4,n&&(n=JSON.stringify(n),l["Content-Type"]="application/json"),e.next=8,fetch(t,{method:a,body:n,headers:l});case 8:return c=e.sent,e.next=11,c.json();case 11:if(u=e.sent,c.ok){e.next=14;break}throw new Error(u.errors[0]||"\u0427\u0442\u043e-\u0442\u043e \u043d\u0435 \u0442\u0430\u043a");case 14:return r(!1),e.abrupt("return",u);case 18:throw e.prev=18,e.t0=e.catch(4),r(!1),i(e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:o,clearError:Object(n.useCallback)((function(){return i(null)}),[])}},b="http://68.183.78.15/",E=a(11),g=a(28),j=a(233),O=a(205),h=a(195),v=a(166),y=a(202),x=a(77),C=a(203),w=function(e){var t=k(),a=e.product,n=e.editProduct,l=function(e){var t=Object(m.a)({},a,Object(g.a)({},e.target.name,[e.target.value]));n(t)};return r.a.createElement(h.a,{container:!0},r.a.createElement(v.a,{key:a.number},r.a.createElement(h.a,{item:!0,xs:1},r.a.createElement(x.a,{variant:"h6"},a.number)),r.a.createElement(h.a,{item:!0,container:!0,xs:11},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(j.a,{value:a.title,variant:"outlined",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",size:"small",name:"title",onChange:l,className:t.maxWidth})),r.a.createElement(h.a,{item:!0,xs:4},r.a.createElement(j.a,{value:a.code,variant:"outlined",label:"\u0410\u0440\u0442\u0438\u043a\u0443\u043b",size:"small",name:"code",onChange:l,className:t.maxWidth})),r.a.createElement(h.a,{item:!0,xs:4},r.a.createElement(j.a,{className:t.maxWidth,value:a.amount,variant:"outlined",label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",size:"small",name:"amount",onChange:l})),r.a.createElement(h.a,{item:!0,xs:4},r.a.createElement(j.a,{value:a.price,variant:"outlined",label:"\u0417\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",size:"small",name:"price",onChange:l,className:t.maxWidth})))),r.a.createElement(y.a,{variant:"inset",component:"li"}))},k=Object(C.a)((function(e){return{maxWidth:{width:"100%",padding:5}}})),S=a(201),I=a(229),P=a(200),N=a(234),T=a(204),D=a(206),F=function(e){var t=W(),a=e.shops,l=e.suppliers,c=e.categories,o=e.saveForm,i=e.loading,s=e.error,d=e.success,p=Object(n.useState)({productsText:"",shop:null,supplier:null,supplyType:null,category:null}),f=Object(u.a)(p,2),b=f[0],v=f[1],y=Object(n.useState)([]),x=Object(u.a)(y,2),C=x[0],k=x[1],F=Object(n.useState)(!1),B=Object(u.a)(F,2),L=B[0],q=B[1],R=function(e){v(Object(m.a)({},b,Object(g.a)({},e.target.name,e.target.value)))},z=function(e){var t=C.findIndex((function(t){return t.number===e.number}));k([].concat(Object(E.a)(C.slice(0,t)),[e],Object(E.a)(C.slice(t+1))))};return r.a.createElement(n.Fragment,null,r.a.createElement(h.a,{item:!0,xs:4},r.a.createElement(P.a,{className:t.formControl},r.a.createElement(N.a,{id:"shop-select"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),r.a.createElement(I.a,{labelId:"shop-select",value:b.shop,onChange:R,name:"shop"},r.a.createElement(T.a,{value:0},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0433\u0430\u0437\u0438\u043d"),a.map((function(e){return r.a.createElement(T.a,{key:e.id,value:e.id},e.title)})))),r.a.createElement(P.a,{className:t.formControl},r.a.createElement(N.a,{id:"shop-select"},"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430"),r.a.createElement(I.a,{labelId:"shop-select",value:b.supplier,onChange:R,name:"supplier"},r.a.createElement(T.a,{value:0},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430"),l.map((function(e){return r.a.createElement(T.a,{key:e.id,value:e.id},e.name)})))),r.a.createElement(P.a,{className:t.formControl},r.a.createElement(N.a,{id:"shop-select"},"\u0422\u0438\u043f \u0442\u043e\u0432\u0430\u0440\u0430"),r.a.createElement(I.a,{labelId:"shop-select",value:b.supplyType,onChange:R,name:"supplyType"},r.a.createElement(T.a,{value:0},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0438\u043f \u0442\u043e\u0432\u0430\u0440\u0430"),r.a.createElement(T.a,{value:1},"\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440"),r.a.createElement(T.a,{value:2},"\u0422\u043e\u0432\u0430\u0440 \u043f\u043e\u0434 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e"),r.a.createElement(T.a,{value:3},"\u041e\u0442\u0441\u0440\u043e\u0447\u0435\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0451\u0436"))),r.a.createElement(P.a,{className:t.formControl},r.a.createElement(N.a,{id:"shop-select"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),r.a.createElement(I.a,{labelId:"shop-select",value:b.category,onChange:R,name:"category"},r.a.createElement(T.a,{value:0},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"),c.map((function(e){return r.a.createElement(T.a,{key:e.id,value:e.id},e.title)})))),r.a.createElement("br",null),r.a.createElement(j.a,{label:"\u0412\u043d\u0435\u0441\u0438\u0442\u0435 \u0442\u043e\u0432\u0430\u0440\u044b",multiline:!0,rows:10,variant:"outlined",value:b.productsText,onChange:R,name:"productsText",fullWidth:!0}),r.a.createElement("br",null),r.a.createElement(O.a,{variant:"contained",color:"primary",onClick:function(){if(!(b.productsText.length<=0)){var e=b.productsText.split("\n").map((function(e){return e.split("\t")})).map((function(e){return{number:+e[0].replace(",",".").replace(/\s+/g,""),code:e[1],title:e[2],amount:+e[3].replace(",",".").replace(/\s+/g,""),price:+e[5].replace(",",".").replace(/\s+/g,""),sum:+e[6].replace(",",".").replace(/\s+/g,"")}}));k(e)}}},"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{variant:"contained",color:"primary",onClick:function(){q(!0);var e=C.map((function(e){return Object(m.a)({},e,Object(g.a)({},"price",e.price+""))}));o(Object(m.a)({},b,{products:e}))},disabled:L},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement("br",null),r.a.createElement("br",null),i&&r.a.createElement(D.a,null),s&&r.a.createElement("p",null,"\u041e\u0448\u0438\u0431\u043a\u0430: ",s),d&&r.a.createElement("p",null,"\u0423\u0441\u043f\u0435\u0445!")),r.a.createElement(h.a,{item:!0,xs:7},r.a.createElement(S.a,null,C.map((function(e){return r.a.createElement(w,{key:e.number,product:e,editProduct:z})})))))},W=Object(C.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120}}})),B=b,L=function(){var e=f(),t=e.request,a=e.loading,l=e.error,c=Object(n.useState)([]),o=Object(u.a)(c,2),i=o[0],s=o[1],b=Object(n.useState)([]),E=Object(u.a)(b,2),g=E[0],j=E[1],O=Object(n.useState)([]),h=Object(u.a)(O,2),v=h[0],y=h[1],x=Object(n.useState)(!1),C=Object(u.a)(x,2),w=C[0],k=C[1],S=Object(n.useCallback)(Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(B+"api/shops");case 3:a=e.sent,s(a),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]),I=Object(n.useCallback)(Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(B+"api/categories");case 3:a=e.sent,j(a),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]),P=Object(n.useCallback)(Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(B+"api/suppliers");case 3:a=e.sent,y(a),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]);Object(n.useEffect)((function(){S(),I(),P()}),[S,I,P]);var N=function(){var e=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(B+"api/supplyProducts/import","POST",Object(m.a)({},a));case 3:e.sent,k(!0),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(F,{shops:i,suppliers:v,categories:g,saveForm:N,loading:a,error:l,success:w})},q=a(9),R=a(4),z=b+"api/products",J=Object(R.e)(),M=Object(R.e)(),A=Object(R.e)(),H=Object(R.e)(),V=Object(R.e)(),G=Object(R.e)(),K=Object(R.d)({handler:function(){return Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(z);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))()}}),X=Object(R.d)({handler:function(e){return Object(p.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(z+"/GetBySupplier/"+e);case 2:return a=t.sent,t.abrupt("return",a.json());case 4:case"end":return t.stop()}}),t)})))()}}),Q=Object(R.f)([]).on(K.doneData,(function(e,t){return Object(E.a)(t)})).on(X.doneData,(function(e,t){return Object(E.a)(t)})),U=Object(R.f)(0).on(J,(function(e,t){return t})),Y=Object(R.f)(0).on(M,(function(e,t){return t})),Z=Object(R.f)(0).on(V,(function(e,t){return t})),$=Object(R.f)("").on(A,(function(e,t){return t})),_=Object(R.f)(0).on(H,(function(e,t){return t})),ee=Object(R.f)(0).on(G,(function(e,t){return t})),te=Object(R.b)(Q,U,Y,$,_,ee,(function(e,t,a,n,r,l){return e.filter((function(e){return 0===t||e.shopId===t})).filter((function(e){return 0===a||e.categoryId===a})).filter((function(e){return""===n||e.title.toLowerCase().includes(n.toLowerCase())})).filter((function(e){return e.amount>=r})).filter((function(e){return e.bookedCount>=l}))})),ae=b+"api/shops",ne=b+"api/categories",re=b+"api/suppliers",le=Object(R.d)({handler:function(){return Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ae);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))()}}),ce=Object(R.d)({handler:function(){return Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ne);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))()}}),ue=Object(R.d)({handler:function(){return Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))()}}),oe=Object(R.f)([]).on(le.doneData,(function(e,t){return Object(E.a)(t)})),ie=Object(R.f)([]).on(ce.doneData,(function(e,t){return Object(E.a)(t)})),me=Object(R.f)([]).on(ue.doneData,(function(e,t){return Object(E.a)(t)})),se=Object(R.e)(),de=Object(R.e)(),pe=Object(R.f)([]);pe.on(se,(function(e,t){return[].concat(Object(E.a)(e),[t])})).on(de,(function(e){return[]}));var fe=b+"api/suppliers",be=Object(R.d)({handler:function(){return Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(fe);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))()}});be.finally.watch((function(e){e.error&&se("\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u043e\u0432, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.error))}));var Ee=Object(R.d)({handler:function(e,t,a){return Object(p.a)(d.a.mark((function n(){var r,l;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={name:e,phone:t,email:a},n.next=3,fetch(fe,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(r)});case 3:return l=n.sent,n.abrupt("return",l.json());case 5:case"end":return n.stop()}}),n)})))()}});Ee.finally.watch((function(e){e.error&&se("\u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.error))}));var ge=Object(R.f)([]).on(be.doneData,(function(e,t){return Object(E.a)(t)})).on(Ee.doneData,(function(e,t){return[].concat(Object(E.a)(e),[t])})),je=function(){var e=Oe(),t=Object(q.a)(U),a=Object(q.a)(Y),l=Object(q.a)(Z),c=Object(q.a)(oe),u=Object(q.a)(ie),o=Object(q.a)(me),i=Object(q.a)(_),m=Object(q.a)(ee);return Object(n.useEffect)((function(){ce(),le(),ue()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{className:e.formControl},r.a.createElement(N.a,{id:"demo-simple-select-label"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),r.a.createElement(I.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t,onChange:function(e){J(e.target.value)}},r.a.createElement(T.a,{value:0},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0433\u0430\u0437\u0438\u043d"),c.map((function(e){return r.a.createElement(T.a,{key:e.id,value:e.id},e.title)})))),r.a.createElement(P.a,{className:e.formControl},r.a.createElement(N.a,{id:"demo-simple-select-label"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),r.a.createElement(I.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:a,onChange:function(e){M(e.target.value)}},r.a.createElement(T.a,{value:0},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"),u.map((function(e){return r.a.createElement(T.a,{key:e.id,value:e.id},e.title)})))),r.a.createElement(P.a,{className:e.formControl},r.a.createElement(N.a,{id:"demo-simple-select-label"},"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u043a"),r.a.createElement(I.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,onChange:function(e){var t=e.target.value;t>0?X(t):K(),V(t)}},r.a.createElement(T.a,{value:0},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430"),o.map((function(e){return r.a.createElement(T.a,{key:e.id,value:e.id},e.name)})))),r.a.createElement(P.a,{className:e.formControl},r.a.createElement(j.a,{label:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e",onChange:function(e){A(e.target.value)}})),r.a.createElement(P.a,{className:e.formControl},r.a.createElement(j.a,{label:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e",onChange:function(e){H(e.target.value)},value:i})),r.a.createElement(P.a,{className:e.formControl},r.a.createElement(j.a,{label:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e",onChange:function(e){G(e.target.value)},value:m})))},Oe=Object(C.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120}}})),he=a(208),ve=a(209),ye=a(210),xe=a(211),Ce=a(212),we=a(207),ke=function(e){var t=e.products,a=e.page,n=e.rowsPerPage,l=e.handleOpenDialog;return r.a.createElement(we.a,null,r.a.createElement(he.a,null,r.a.createElement(ve.a,null,r.a.createElement(ye.a,null,r.a.createElement(xe.a,null,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b"),r.a.createElement(xe.a,null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(xe.a,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),r.a.createElement(xe.a,null,"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e"),r.a.createElement(xe.a,null,"\u0426\u0435\u043d\u0430"),r.a.createElement(xe.a,null,"\u0421\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),r.a.createElement(xe.a,null,"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),r.a.createElement(xe.a,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),r.a.createElement(xe.a,null,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),r.a.createElement(Ce.a,null,t.slice(a*n,a*n+n).map((function(e){return r.a.createElement(ye.a,{key:e.id},r.a.createElement(xe.a,null,e.code),r.a.createElement(xe.a,null,e.title),r.a.createElement(xe.a,null,e.amount),r.a.createElement(xe.a,null,e.bookedCount),r.a.createElement(xe.a,null,e.price),r.a.createElement(xe.a,null,e.primeCost),r.a.createElement(xe.a,null,e.shop),r.a.createElement(xe.a,null,e.category),r.a.createElement(xe.a,null,r.a.createElement(O.a,{variant:"contained",onClick:l.bind(void 0,e)},"Detail")))})))))},Se=a(235),Ie=function(e){var t=e.products,a=e.rowsPerPage,n=e.page,l=e.handleChangePage,c=e.handleChangeRowsPerPage;return r.a.createElement(Se.a,{rowsPerPageOptions:[10,25,50,100],component:"div",count:t.length,rowsPerPage:a,page:n,onChangePage:l,onChangeRowsPerPage:c})},Pe=a(215),Ne=a(216),Te=a(217),De=a(125),Fe=function(){var e=We(),t=Object(q.a)(te),a=Object(q.a)(X.pending),l=Object(n.useState)(0),c=Object(u.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)(10),s=Object(u.a)(m,2),d=s[0],p=s[1],f=Object(n.useState)(!1),b=Object(u.a)(f,2),E=b[0],g=b[1],O=Object(n.useState)(null),h=Object(u.a)(O,2),v=(h[0],h[1]);Object(n.useEffect)((function(){K()}),[]);var y=t.map((function(e){return{code:e.code,title:e.title,amount:e.amount,bookedCount:e.bookedCount,price:(e.price+"").replace(".",","),primeCost:(e.primeCost+"").replace(".",","),shop:e.shop,category:e.category}}));return console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement(De.CSVLink,{data:y,headers:[{label:"\u0410\u0440\u0442\u0438\u043a\u0443\u043b",key:"code"},{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",key:"title"},{label:"\u041a\u043e\u043b-\u0432\u043e",key:"amount"},{label:"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e",key:"bookedCount"},{label:"\u0426\u0435\u043d\u0430",key:"price"},{label:"\u0421\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",key:"primeCost"},{label:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d",key:"shop"},{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",key:"category"}],separator:";"},"Download me"),";",r.a.createElement(je,null),a?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430":r.a.createElement(ke,{products:t,page:o,rowsPerPage:d,handleOpenDialog:function(e){v(e),g(!0)}}),r.a.createElement(Ie,{products:t,rowsPerPage:d,page:o,handleChangePage:function(e,t){i(t)},handleChangeRowsPerPage:function(e){p(+e.target.value),i(0)}}),r.a.createElement(Pe.a,{open:E,onClose:function(){g(!1)}},r.a.createElement(Ne.a,null,"Product"),r.a.createElement(Te.a,null,r.a.createElement(j.a,{autoFocus:!0,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",type:"text",margin:"dense"}),r.a.createElement(j.a,{label:"\u0410\u0440\u0442\u0438\u043a\u0443\u043b",type:"text",margin:"dense"}),r.a.createElement(j.a,{label:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0438",type:"number",margin:"dense"}),r.a.createElement(P.a,{className:e.formControl},r.a.createElement(N.a,{id:"category-select"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),r.a.createElement(I.a,{labelId:"category-select"},r.a.createElement(T.a,null,"1111"))),r.a.createElement(P.a,{className:e.formControl},r.a.createElement(N.a,{id:"shop-select"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),r.a.createElement(I.a,{labelId:"shop-select"},r.a.createElement(T.a,null,"1111"))))))},We=Object(C.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120}}})),Be=function(){var e=f(),t=e.loading;e.request,Object(q.a)(te);return Object(n.useEffect)((function(){K()}),[]),t?r.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):r.a.createElement(Fe,null)},Le=a(27),qe=a(227),Re=a(86),ze=b,Je=function(){var e=Me(),t=Object(n.useState)([]),a=Object(u.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),i=Object(u.a)(o,2),s=i[0],b=i[1],E=Object(n.useState)(0),g=Object(u.a)(E,2),O=g[0],h=g[1],v=Object(n.useState)(0),y=Object(u.a)(v,2),x=y[0],C=y[1],w=Object(n.useState)(10),k=Object(u.a)(w,2),S=k[0],D=k[1],F=f(),W=(F.loading,F.request),B=Object(n.useState)(null),L=Object(u.a)(B,2),q=L[0],R=L[1],z=Object(n.useState)(null),J=Object(u.a)(z,2),M=J[0],A=J[1],H=Object(n.useCallback)(Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(ze+"api/productsHistory");case 3:t=e.sent,c(t.map((function(e){return Object(m.a)({},e,{date:new Date(e.dateTime)})}))),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[W]),V=Object(n.useCallback)(Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(ze+"api/shops");case 3:t=e.sent,b(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[W]);return Object(n.useEffect)((function(){H(),V()}),[H,V]),r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{className:e.formControl},r.a.createElement(N.a,{id:"demo-simple-select-label"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),r.a.createElement(I.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:O,onChange:function(e){h(e.target.value)}},r.a.createElement(T.a,{value:0},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0433\u0430\u0437\u0438\u043d"),s.map((function(e){return r.a.createElement(T.a,{key:e.id,value:e.id},e.title)})))),r.a.createElement(P.a,{className:e.formControl},r.a.createElement(j.a,{label:"\u0414\u0430\u0442\u0430 \u0441",type:"date",defaultValue:"",className:e.textField,InputLabelProps:{shrink:!0},onChange:function(e){return R(new Date(e.target.value))}})),r.a.createElement(P.a,{className:e.formControl},r.a.createElement(Le.a,{utils:Re.a},r.a.createElement(qe.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",label:"\u0414\u0430\u0442\u0430 \u0441",value:q,onChange:function(e){return R(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(P.a,{className:e.formControl},r.a.createElement(j.a,{label:"\u0414\u0430\u0442\u0430 \u043f\u043e",type:"date",defaultValue:"",className:e.textField,InputLabelProps:{shrink:!0},onChange:function(e){return A(new Date(e.target.value))}})),r.a.createElement(we.a,null,r.a.createElement(he.a,null,r.a.createElement(ve.a,null,r.a.createElement(ye.a,null,r.a.createElement(xe.a,null,"\u0414\u0430\u0442\u0430"),r.a.createElement(xe.a,null,"\u0422\u043e\u0432\u0430\u0440"),r.a.createElement(xe.a,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),r.a.createElement(xe.a,null,"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a"),r.a.createElement(xe.a,null,"\u0422\u0438\u043f"),r.a.createElement(xe.a,null,"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"))),r.a.createElement(Ce.a,null,l.filter((function(e){return 0===O||e.shopId===O})).filter((function(e){return!q||e.date>=q})).filter((function(e){return!M||e.date<=M})).slice(x*S,x*S+S).map((function(e){return r.a.createElement(ye.a,{key:e.id},r.a.createElement(xe.a,null,e.date.toLocaleDateString()),r.a.createElement(xe.a,null,e.productTitle),r.a.createElement(xe.a,null,e.amount),r.a.createElement(xe.a,null,e.supplierName),r.a.createElement(xe.a,null,e.type),r.a.createElement(xe.a,null,e.shopTitle))}))))),r.a.createElement(Se.a,{rowsPerPageOptions:[10,25,50,100],component:"div",count:l.filter((function(e){return 0===O||e.shopId===O})).filter((function(e){return!q||e.date>=q})).filter((function(e){return!M||e.date<=M})).length,rowsPerPage:S,page:x,onChangePage:function(e,t){C(t)},onChangeRowsPerPage:function(e){D(+e.target.value),C(0)}}))},Me=Object(C.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),Ae=function(e){var t=He(),a=e.index,n=e.changeFormHandler,l=e.supplyProduct,c=l.productId,u=l.amount,o=l.shopId,i=l.supplierId,m=l.procurementCost,s=function(e){n(a,e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{className:t.formControl},r.a.createElement(N.a,{id:"product-select"},"\u0422\u043e\u0432\u0430\u0440"),r.a.createElement(I.a,{labelId:"product-select",name:"productId",value:c,onChange:s},r.a.createElement(T.a,{value:0},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440"),[{id:1,title:"product1"},{id:2,title:"product2"}].map((function(e){return r.a.createElement(T.a,{key:e.id,value:e.id},e.title)})))),r.a.createElement(P.a,{className:t.formControl},r.a.createElement(j.a,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",value:u,onChange:s,name:"amount"})),r.a.createElement(P.a,{className:t.formControl},r.a.createElement(N.a,{id:"shop-select"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),r.a.createElement(I.a,{labelId:"shop-select",name:"shopId",value:o,onChange:s},r.a.createElement(T.a,{value:0},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0433\u0430\u0437\u0438\u043d"),[{id:2,title:"shop1"}].map((function(e){return r.a.createElement(T.a,{key:e.id,value:e.id},e.title)})))),r.a.createElement(P.a,{className:t.formControl},r.a.createElement(N.a,{id:"supplier-select"},"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a"),r.a.createElement(I.a,{labelId:"supplier-select",name:"supplierId",value:i,onChange:s},r.a.createElement(T.a,{value:0},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u0448\u0438\u043a\u0430"),[{id:1,title:"supplier1"}].map((function(e){return r.a.createElement(T.a,{key:e.id,value:e.id},e.title)})))),r.a.createElement(P.a,{className:t.formControl},r.a.createElement(j.a,{label:"\u0417\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",value:m,onChange:s,name:"procurementCost"})))},He=Object(C.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120}}})),Ve=function(){Ge();var e=Object(n.useState)([{productId:0,amount:0,shopId:0,supplierId:0,procurementCost:0}]),t=Object(u.a)(e,2),a=t[0],l=t[1],c=function(e,t){var n=a[e],r=Object(m.a)({},n,Object(g.a)({},t.target.name,t.target.value));l([].concat(Object(E.a)(a.slice(0,e)),[r],Object(E.a)(a.slice(e+1))))};return r.a.createElement(r.a.Fragment,null,a.map((function(e,t){return r.a.createElement(Ae,{key:t,supplyProduct:e,changeFormHandler:c,index:t})})),r.a.createElement(O.a,{onClick:function(){l([].concat(Object(E.a)(a),[{productId:0,amount:0,shopId:0,supplierId:0,procurementCost:0}]))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"),r.a.createElement(O.a,{onClick:function(){console.log(a)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))},Ge=Object(C.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120}}})),Ke=b+"api/shops",Xe=Object(R.d)({handler:function(){return Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Ke);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))()}});Xe.finally.watch((function(e){e.error&&se("\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u043e\u0432, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.error))}));var Qe=Object(R.d)({handler:function(e){return Object(p.a)(d.a.mark((function t(){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={title:e},t.next=3,fetch(Ke,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)});case 3:return n=t.sent,t.abrupt("return",n.json());case 5:case"end":return t.stop()}}),t)})))()}});Qe.finally.watch((function(e){e.error?se("\u041f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.error)):de()}));var Ue=Object(R.f)([]).on(Xe.doneData,(function(e,t){return Object(E.a)(t)})).on(Qe.doneData,(function(e,t){return[].concat(Object(E.a)(e),[t])})),Ye=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),o=Object(u.a)(c,2),i=o[0],m=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:a,onChange:function(e){return l(e.target.value)},name:"title"}),r.a.createElement(O.a,{onClick:function(){m(!0),Qe(a),l(""),m(!1)},variant:"contained",color:"primary",disabled:i},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))},Ze=function(){Object(n.useEffect)((function(){Xe()}),[]);var e=Object(q.a)(Ue);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye,null),r.a.createElement("ul",null,e.map((function(e){return r.a.createElement("li",null,e.id," / ",e.title)}))))},$e=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(u.a)(c,2),i=o[0],m=o[1],s=Object(n.useState)(""),d=Object(u.a)(s,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(u.a)(b,2),g=E[0],h=E[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{label:"\u0418\u043c\u044f \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430",value:a,onChange:function(e){return l(e.target.value)},name:"name"}),r.a.createElement(j.a,{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",value:i,onChange:function(e){return m(e.target.value)},name:"phone"}),r.a.createElement(j.a,{label:"\u041f\u043e\u0447\u0442\u0430",value:p,onChange:function(e){return f(e.target.value)},name:"email"}),r.a.createElement(O.a,{onClick:function(){h(!0),Ee(a,i,p),l(""),h(!1)},variant:"contained",color:"primary",disabled:g},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))},_e=function(){Object(n.useEffect)((function(){be()}),[]);var e=Object(q.a)(ge);return r.a.createElement(r.a.Fragment,null,r.a.createElement($e,null),r.a.createElement("ul",null,e.map((function(e){return r.a.createElement("li",null,e.id," / ",e.name)}))))},et=b+"api/categories",tt=Object(R.d)({handler:function(){return Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(et);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))()}});tt.finally.watch((function(e){e.error?se("\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.error)):de()}));var at=Object(R.d)({handler:function(e){return Object(p.a)(d.a.mark((function t(){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={title:e},t.next=3,fetch(et,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)});case 3:return n=t.sent,t.abrupt("return",n.json());case 5:case"end":return t.stop()}}),t)})))()}});at.finally.watch((function(e){e.error&&se("\u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.error))}));var nt=Object(R.f)([]).on(tt.doneData,(function(e,t){return Object(E.a)(t)})).on(at.doneData,(function(e,t){return[].concat(Object(E.a)(e),[t])})),rt=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),o=Object(u.a)(c,2),i=o[0],m=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:a,onChange:function(e){return l(e.target.value)},name:"title"}),r.a.createElement(O.a,{onClick:function(){m(!0),at(a),l(""),m(!1)},variant:"contained",color:"primary",disabled:i},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))},lt=function(){Object(n.useEffect)((function(){tt()}),[]);var e=Object(q.a)(nt);return r.a.createElement(r.a.Fragment,null,r.a.createElement(rt,null),r.a.createElement("ul",null,e.map((function(e){return r.a.createElement("li",null,e.id," / ",e.title)}))))},ct=b+"api/supplyProducts",ut=Object(R.d)({handler:function(){return Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ct);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))()}});ut.finally.watch((function(e){e.error&&se("\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u043e\u0441\u0442\u0430\u0432\u043e\u043a, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.error))}));var ot=Object(R.f)([]).on(ut.doneData,(function(e,t){return Object(E.a)(t)})),it=function(){var e=Object(n.useState)(0),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(10),o=Object(u.a)(c,2),i=o[0],m=o[1],s=Object(n.useState)(0),d=Object(u.a)(s,2),p=d[0],f=d[1];Object(n.useEffect)((function(){ut()}),[]);var b=Object(q.a)(ot);return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,null,r.a.createElement(j.a,{label:"\u0417\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",defaultValue:"0",onChange:function(e){return f(e.target.value)}})),r.a.createElement(we.a,null,r.a.createElement(he.a,null,r.a.createElement(ve.a,null,r.a.createElement(ye.a,null,r.a.createElement(xe.a,null,"Id"),r.a.createElement(xe.a,null,"\u0422\u043e\u0432\u0430\u0440"),r.a.createElement(xe.a,null,"\u0417\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0430\u044f \u0446\u0435\u043d\u0430"),r.a.createElement(xe.a,null,"\u041a\u043e\u043b-\u0432\u043e \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435"),r.a.createElement(xe.a,null,"\u041f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e"),r.a.createElement(xe.a,null,"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),r.a.createElement(xe.a,null,"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a"))),r.a.createElement(Ce.a,null,b.filter((function(e){return e.procurementCost>=p})).slice(a*i,a*i+i).map((function(e){return r.a.createElement(ye.a,{key:e.supplyProductId},r.a.createElement(xe.a,null,e.supplyProductId),r.a.createElement(xe.a,null,e.productTitle),r.a.createElement(xe.a,null,e.procurementCost),r.a.createElement(xe.a,null,e.shopAmount),r.a.createElement(xe.a,null,e.suppliedAmount),r.a.createElement(xe.a,null,e.shopTitle),r.a.createElement(xe.a,null,e.supplierName))}))))),r.a.createElement(Se.a,{rowsPerPageOptions:[10,25,50,100],component:"div",count:b.filter((function(e){return e.procurementCost>=p})).length,rowsPerPage:i,page:a,onChangePage:function(e,t){l(t)},onChangeRowsPerPage:function(e){m(+e.target.value),l(0)}}))},mt=b+"api/managers",st=Object(R.e)(),dt=Object(R.e)(),pt=Object(R.d)({handler:function(){return Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(mt);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))()}}),ft=Object(R.d)({handler:function(e){return Object(p.a)(d.a.mark((function t(){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e,t.next=3,fetch(mt+"/filter",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)});case 3:return n=t.sent,t.abrupt("return",n.json());case 5:case"end":return t.stop()}}),t)})))()}}),bt=Object(R.f)([]).on(pt.doneData,(function(e,t){return Object(E.a)(t)})).on(ft.doneData,(function(e,t){return Object(E.a)(t)})),Et=Object(R.f)(!1).on(st,(function(e){return!e})).on(dt,(function(e){return!1})),gt=Object(R.f)(!1).on(dt,(function(e){return!e})).on(st,(function(e){return!1})),jt=Object(R.b)(bt,Et,gt,(function(e,t,a){return Object(E.a)(e.sort((function(e,n){return t?n.margin-e.margin:a?n.sum-e.sum:0})))})),Ot=function(){var e=ht(),t=Object(n.useState)(null),a=Object(u.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),i=Object(u.a)(o,2),m=i[0],s=i[1],d=Object(q.a)(jt);return Object(n.useEffect)((function(){pt()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{className:e.formControl},r.a.createElement(Le.a,{utils:Re.a},r.a.createElement(qe.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",label:"\u0414\u0430\u0442\u0430 \u0441",value:l,onChange:function(e){return c(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(P.a,{className:e.formControl},r.a.createElement(Le.a,{utils:Re.a},r.a.createElement(qe.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",label:"\u0414\u0430\u0442\u0430 \u043f\u043e",value:m,onChange:function(e){return s(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(O.a,{onClick:function(){ft({startDate:l,endDate:m})}},"\u041f\u043e\u0438\u0441\u043a"),r.a.createElement(we.a,null,r.a.createElement(he.a,null,r.a.createElement(ve.a,null,r.a.createElement(ye.a,null,r.a.createElement(xe.a,null,"\u0418\u043c\u044f"),r.a.createElement(xe.a,{onClick:function(){return st()}},"\u041c\u0430\u0440\u0436\u0430"),r.a.createElement(xe.a,{onClick:function(){return dt()}},"\u041e\u0431\u043e\u0440\u043e\u0442"))),r.a.createElement(Ce.a,null,d.map((function(e){return r.a.createElement(ye.a,{key:e.id},r.a.createElement(xe.a,null,e.name),r.a.createElement(xe.a,null,e.margin),r.a.createElement(xe.a,null,e.sum))}))))))},ht=Object(C.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),vt=b+"api/deletedSales",yt=Object(R.d)({handler:function(){return Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(vt);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))()}}),xt=Object(R.f)([]).on(yt.doneData,(function(e,t){return Object(E.a)(t)})),Ct=a(213),wt=a(127),kt=a.n(wt),St=a(126),It=a.n(St),Pt=a(219),Nt=a(228),Tt=function(e){var t=e.sale,a=Object(n.useState)(!1),l=Object(u.a)(a,2),c=l[0],o=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,null,r.a.createElement(xe.a,null,t.number),r.a.createElement(xe.a,null,t.date),r.a.createElement(xe.a,null,t.sum),r.a.createElement(xe.a,null,t.margin),r.a.createElement(xe.a,null,t.procurementCost),r.a.createElement(xe.a,null,t.shopTitle),r.a.createElement(xe.a,null,t.saleType),r.a.createElement(xe.a,null,t.discount),r.a.createElement(xe.a,null,t.buyer),r.a.createElement(xe.a,null,r.a.createElement(Ct.a,{"aria-lavel":"expand row",size:"small",onClick:function(){o(!c)}},c?r.a.createElement(It.a,null):r.a.createElement(kt.a,null)))),r.a.createElement(ye.a,null,r.a.createElement(xe.a,{style:{paddingBottom:0,paddingTop:0},colSpan:10},r.a.createElement(Pt.a,{in:c,timeout:"auto",unmountOnExit:!0},r.a.createElement(Nt.a,{margin:1},r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:3},t.payments.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"\u0421\u0447\u0451\u0442: ",e.account," | "),r.a.createElement("span",null,"\u0421\u0443\u043c\u043c\u0430: ",e.sum),r.a.createElement("br",null))})),r.a.createElement("span",null,"\u0414\u0430\u0442\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f: ",null!==t.deletedDate?t.deletedDate:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"),r.a.createElement("br",null)),r.a.createElement(h.a,{item:!0,xs:9},t.products.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",e.title," | "),r.a.createElement("span",null,"\u041a\u043e\u0434: ",e.code," | "),r.a.createElement("span",null,"\u041a\u043e\u043b-\u0432\u043e: ",e.amount," | "),r.a.createElement("span",null,"\u0426\u0435\u043d\u0430: ",e.price," | "),r.a.createElement("span",null,"\u0417\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0430\u044f: ",e.procurementCost," | "),r.a.createElement("span",null,"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a: ",e.supplierName),r.a.createElement("br",null))})))))))))},Dt=function(){var e=Object(q.a)(xt);return Object(n.useEffect)((function(){yt()}),[]),r.a.createElement(we.a,null,r.a.createElement(he.a,null,r.a.createElement(ve.a,null,r.a.createElement(ye.a,null,r.a.createElement(xe.a,null,"\u041d\u043e\u043c\u0435\u0440"),r.a.createElement(xe.a,null,"\u0414\u0430\u0442\u0430"),r.a.createElement(xe.a,null,"\u0421\u0443\u043c\u043c\u0430"),r.a.createElement(xe.a,null,"\u041c\u0430\u0440\u0436\u0430"),r.a.createElement(xe.a,null,"\u0421\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),r.a.createElement(xe.a,null,"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),r.a.createElement(xe.a,null,"\u0422\u0438\u043f"),r.a.createElement(xe.a,null,"\u0421\u043a\u0438\u0434\u043a\u0430"),r.a.createElement(xe.a,null,"\u041f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044c"),r.a.createElement(xe.a,null))),r.a.createElement(Ce.a,null,e.map((function(e){return r.a.createElement(Tt,{key:e.number,sale:e})})))))},Ft=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{label:"\u041f\u043e\u0438\u0441\u043a \u0442\u043e\u0432\u0430\u0440\u0430",variant:"outlined"}),r.a.createElement(S.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,null,"Product")),r.a.createElement(v.a,null,r.a.createElement(O.a,null,"Product")),r.a.createElement(v.a,null,r.a.createElement(O.a,null,"Product")),r.a.createElement(v.a,null,r.a.createElement(O.a,null,"Product"))))},Wt=a(220),Bt=a(221),Lt=b+"\u043d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c \u0432\u043f\u0438\u0441\u0430\u0442\u044c url",qt=Object(R.d)({handler:function(){return Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise((function(e,t){setTimeout((function(){e({id:1,title:"\u0422\u0430\u0439\u0442\u043b",code:"\u041a\u043e\u0434",price:150,category:"\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",supplies:[{id:1,title:"test",amount:1,supplierId:1,supplierTitle:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a",shopId:1,shopTitle:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"}],understaffed:[{id:2,title:"test",shopId:1,shopTitle:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"}]})}),100)})),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))()}});qt.finally.watch((function(e){e.error&&se("\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0442\u043e\u0432\u0430\u0440\u0435, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.error))}));var Rt=Object(R.d)({handler:function(e){return Object(p.a)(d.a.mark((function t(){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e,t.next=3,fetch(Lt,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)});case 3:return n=t.sent,t.abrupt("return",n.json());case 5:case"end":return t.stop()}}),t)})))()}});Rt.finally.watch((function(e){e.error&&se("\u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043d\u0435\u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u043d\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.error))}));var zt=Object(R.f)({}).on(qt.doneData,(function(e,t){return t})).on(Rt.doneData,(function(e,t){return Object(m.a)({},e,{understaffed:[].concat(Object(E.a)(e.understaffed),[t])})})),Jt=function(){Object(n.useEffect)((function(){qt()}),[]),Object(n.useEffect)((function(){Xe()}),[]);var e=Object(q.a)(zt),t=Mt();return r.a.createElement(Wt.a,null,r.a.createElement(Bt.a,null,r.a.createElement(x.a,{color:"textSecondary",gutterBottom:!0,className:t.title},r.a.createElement("strong",null,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e \u043e \u0442\u043e\u0432\u0430\u0440\u0435: ",e.title)),r.a.createElement(y.a,null),r.a.createElement(x.a,{className:t.title,color:"textSecondary",gutterBottom:!0},r.a.createElement("strong",null,"Id: ",e.id),r.a.createElement("br",null),r.a.createElement("strong",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",e.title),r.a.createElement("br",null),r.a.createElement("strong",null,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b: ",e.code),r.a.createElement("br",null),r.a.createElement("strong",null,"\u0426\u0435\u043d\u0430: ",e.price),r.a.createElement("br",null),r.a.createElement("strong",null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: ",e.category))))},Mt=Object(C.a)({title:{fontSize:14}}),At=a(132),Ht=a(230),Vt=a(222),Gt=a(109),Kt=function(){var e=Object(q.a)(zt).supplies||[];return r.a.createElement(we.a,{component:Gt.a},r.a.createElement(he.a,{"aria-label":"simple table"},r.a.createElement(ve.a,null,r.a.createElement(ye.a,null,r.a.createElement(xe.a,null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(xe.a,{align:"right"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),r.a.createElement(xe.a,{align:"right"},"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a"),r.a.createElement(xe.a,{align:"right"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"))),r.a.createElement(Ce.a,null,e.map((function(e){return r.a.createElement(ye.a,{key:e.id},r.a.createElement(xe.a,{component:"th",scope:"row"},e.title),r.a.createElement(xe.a,{align:"right"},e.amount),r.a.createElement(xe.a,{align:"right"},e.supplierTitle),r.a.createElement(xe.a,{align:"right"},e.shopTitle))})))))},Xt=a(218),Qt=Object(C.a)((function(e){return{formControl:{width:"100%"}}})),Ut=function(){var e=Qt(),t=Object(q.a)(Ue),a=r.a.useState(!1),l=Object(u.a)(a,2),c=l[0],o=l[1],i=function(){o(!1)},m=Object(q.a)(zt),s=Object(n.useState)(0),d=Object(u.a)(s,2),p=d[0],f=d[1],b=Object(n.useState)(0),E=Object(u.a)(b,2),g=E[0],h=E[1];return r.a.createElement("div",null,r.a.createElement(O.a,{variant:"outlined",color:"primary",onClick:function(){o(!0)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435\u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442"),r.a.createElement(Pe.a,{open:c,onClose:i},r.a.createElement(Ne.a,{id:"form-dialog-title"},"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u0435\u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430"),r.a.createElement(Te.a,null,r.a.createElement(P.a,{className:e.formControl},r.a.createElement(N.a,{id:"demo-simple-select-label"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),r.a.createElement(I.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:g,onChange:function(e){return h(e.target.value)}},t.map((function(e){return r.a.createElement(T.a,{value:e.id},e.title)})))),r.a.createElement(j.a,{margin:"dense",id:"name",label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",type:"number",value:p,onChange:function(e){return f(e.target.value)},fullWidth:!0})),r.a.createElement(Xt.a,null,r.a.createElement(O.a,{onClick:i,color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(O.a,{onClick:function(){var e={id:m.id,shopId:g,amount:+p};Rt(e),f(0),h(0),i()},color:"primary"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))),r.a.createElement(we.a,{component:Gt.a},r.a.createElement(he.a,{"aria-label":"simple table"},r.a.createElement(ve.a,null,r.a.createElement(ye.a,null,r.a.createElement(xe.a,null,"Id"),r.a.createElement(xe.a,{align:"right"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(xe.a,{align:"right"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"))),r.a.createElement(Ce.a,null,m.understaffed.map((function(e){return r.a.createElement(ye.a,{key:e.id},r.a.createElement(xe.a,{component:"th",scope:"row"},e.id),r.a.createElement(xe.a,{align:"right"},e.title),r.a.createElement(xe.a,{align:"right"},e.shopTitle))}))))))};function Yt(e){var t=e.children,a=e.value,n=e.index,l=Object(At.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},l),a===n&&r.a.createElement("div",null,t))}var Zt=function(){var e=r.a.useState(0),t=Object(u.a)(e,2),a=t[0],n=t[1];return r.a.createElement(Gt.a,null,r.a.createElement(Ht.a,{indicatorColor:"primary",textColor:"primary",variant:"fullWidth",onChange:function(e,t){n(t)},centered:!0},r.a.createElement(Vt.a,{label:"\u041f\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),r.a.createElement(Vt.a,{label:"\u041d\u0435\u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442"})),r.a.createElement(Yt,{value:a,index:0},r.a.createElement(Kt,null)),r.a.createElement(Yt,{value:a,index:1},r.a.createElement(Ut,null)))},$t=function(){return r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:10},r.a.createElement(Jt,null),r.a.createElement(Zt,null)),r.a.createElement(h.a,{item:!0,xs:2},r.a.createElement(Ft,null)))},_t=b+"\u043d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c \u0432\u043f\u0438\u0441\u0430\u0442\u044c url",ea=Object(R.e)(),ta=Object(R.e)(),aa=Object(R.e)(),na=Object(R.e)(),ra=Object(R.e)(),la=Object(R.e)(),ca=Object(R.e)(),ua=Object(R.e)(),oa=Object(R.e)(),ia=Object(R.e)(),ma=Object(R.e)(),sa=Object(R.e)(),da=Object(R.e)(),pa=Object(R.e)(),fa=Object(R.e)(),ba=Object(R.e)(),Ea=(Object(R.e)(),Object(R.e)(),Object(R.e)()),ga=Object(R.e)(),ja=(Object(R.e)(),Object(R.f)({managerId:0,discount:0,deferred:!1,forRussia:!1,buyerId:0}).on(sa,(function(e,t){return Object(m.a)({},e,{managerId:t})})).on(da,(function(e,t){return Object(m.a)({},e,{discount:t})})).on(pa,(function(e,t){return Object(m.a)({},e,{deferred:t})})).on(fa,(function(e,t){return Object(m.a)({},e,{forRussia:t})})).on(ba,(function(e,t){return Object(m.a)({},e,{buyerId:t})}))),Oa=Object(R.f)([]).on(ea,(function(e,t){var a=e.findIndex((function(e){return e.id===t.id}));if(-1!==a){var n=e.find((function(e){return e.id===t.id}));return[].concat(Object(E.a)(e.slice(0,a)),[Object(m.a)({},n,{amount:n.amount+1})],Object(E.a)(e.slice(a+1)))}return[].concat(Object(E.a)(e),[Object(m.a)({},t,{amount:1})])})).on(ta,(function(e,t){return e.filter((function(e){return e.id!==t.id}))})).on(aa,(function(e,t){var a=e.findIndex((function(e){return e.id===t.id})),n=e.find((function(e){return e.id===t.id}));return[].concat(Object(E.a)(e.slice(0,a)),[Object(m.a)({},n,{price:t.price})],Object(E.a)(e.slice(a+1)))})).on(na,(function(e,t){var a=e.findIndex((function(e){return e.id===t.id})),n=e.find((function(e){return e.id===t.id}));return[].concat(Object(E.a)(e.slice(0,a)),[Object(m.a)({},n,{amount:t.amount})],Object(E.a)(e.slice(a+1)))})),ha=Object(R.i)({source:Oa,fn:function(e){return e.length>0?e.map((function(e){return e.price*e.amount})).reduce((function(e,t){return e+t})):0}}),va=Object(R.f)({active:!1,sum:0}).on(ra,(function(e,t){return Object(m.a)({},e,{active:!0})})).on(la,(function(e,t){return Object(m.a)({},e,{active:!1})})).on(ca,(function(e,t){return Object(m.a)({},e,{sum:t})})),ya=Object(R.f)({active:!1,sum:0,moneyWorkerId:0}).on(ua,(function(e,t){return Object(m.a)({},e,{active:!0})})).on(oa,(function(e,t){return Object(m.a)({},e,{active:!1})})).on(ia,(function(e,t){return Object(m.a)({},e,{sum:t})})).on(ma,(function(e,t){return Object(m.a)({},e,{moneyWorkerId:t})})),xa=(Object(R.i)({source:Oa,fn:function(e){return e.length>0&&e.map((function(e){return+e.price})).some((function(e){return e<=0}))}}),Object(R.b)(Oa,va,ya,ja,ha,(function(e,t,a,n,r){var l=[];return e.length>0&&e.map((function(e){return+e.price})).some((function(e){return e<=0}))&&l.push("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u0430"),0===n.managerId&&l.push("\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"),(t.active?+t.sum:0)+(a.active?+a.sum:0)<r-n.discount&&l.push("\u041d\u0435 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0432\u043d\u0435\u0441\u0435\u043d\u043e"),l})));ja.on(ea,(function(e,t){return Object(m.a)({},e,{cost:e.cost+t.price})})).on(ta,(function(e,t){return Object(m.a)({},e,{cost:e.cost-t.price})})).on(Ea,(function(e,t){return Object(m.a)({},e,Object(g.a)({},t.name,t.value))})).on(ga,(function(e){return Object(m.a)({},e,{moneyWorkerId:0})}));var Ca=Object(R.d)({handler:function(e){return Object(p.a)(d.a.mark((function t(){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e,t.next=3,fetch(_t,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)});case 3:return n=t.sent,t.abrupt("return",n.json());case 5:case"end":return t.stop()}}),t)})))()}});Ca.finally.watch((function(e){e.error&&se("\u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u0440\u043e\u0434\u0430\u0436\u0438, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.error))}));var wa=a(223),ka=a(133),Sa=Object(R.e)(),Ia=Object(R.e)(),Pa=Object(R.d)(),Na=Object(R.f)([]).on(Pa.doneData,(function(e,t){return Object(E.a)(t.map((function(e){return Object(m.a)({},e,{availableAmount:e.stockAmount,id:e.productId})})))})),Ta=Object(R.f)("").on(Sa,(function(e,t){return t})),Da=Object(R.f)(0).on(Ia,(function(e,t){return t})),Fa=Object(R.b)(Na,Ta,Da,(function(e,t,a){return e.filter((function(e){return""===t||e.title.toLowerCase().includes(t.toLowerCase())})).filter((function(e){return 0===+a||e.categoryId===+a}))})),Wa=b+"api/products/availableForSaleOld";Pa.use(Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Wa);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)}))));var Ba=function(){var e=La();Object(n.useEffect)((function(){Pa(),ce()}),[]);var t=Object(q.a)(Fa),a=Object(q.a)(ie),l=Object(q.a)(Ta),c=Object(q.a)(Da);function u(e){var a=e.index,n=e.style,l=t[a];return r.a.createElement(v.a,{button:!0,key:a,style:n,onClick:function(e){e.preventDefault(),ea(l)}},r.a.createElement(wa.a,{primary:"".concat(l.availableAmount," / ").concat(l.title)}))}return r.a.createElement("div",{className:e.selectProducts,onMouseEnter:function(e){return function(e){e.target.style.marginRight=0}(e)},onMouseLeave:function(e){return function(e){var t=e.toElement||e.relatedTarget;void 0!=t.parentNode&&void 0!=t&&(e.target.style.marginRight="-460px")}(e)}},r.a.createElement("div",{className:e.sectionTitle},"\u0422\u043e\u0432\u0430\u0440\u044b"),r.a.createElement(h.a,{container:!0,spacing:5},r.a.createElement(h.a,{item:!0,xs:5},r.a.createElement(j.a,{id:"standard-required",label:"\u041f\u043e\u0438\u0441\u043a \u0442\u043e\u0432\u0430\u0440\u0430",value:l,onChange:function(e){return Sa(e.target.value)}})),r.a.createElement(h.a,{item:!0,xs:5},r.a.createElement(P.a,{className:e.formControl},r.a.createElement("span",null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),r.a.createElement("select",{value:c,onChange:function(e){return Ia(e.target.value)}},r.a.createElement("option",{value:0},"\u0412\u0441\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),a.map((function(e){return r.a.createElement("option",{value:e.id},e.title)})))))),r.a.createElement(ka.a,{className:e.productList,height:780,width:480,itemSize:46,itemCount:t.length},u))},La=Object(C.a)((function(e){return{formControl:{width:"100%"},selectProducts:{position:"fixed",right:0,bottom:0,top:0,paddingLeft:"3%",width:"520px",boxSizing:"border-box",zIndex:99999,backgroundColor:"#fff",boxShadow:"0px 6px 16px 5px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)",marginRight:"-460px",transition:"0.3s"},sectionTitle:{fontWeight:"bold",transform:"rotate(-90deg)",display:"block",position:"absolute",top:"50%",left:"-5px",fontSize:"18px"},productList:{marginTop:20}}})),qa=a(128),Ra=a.n(qa),za=function(e){var t=Ja(),a=e.product;return r.a.createElement(h.a,{container:!0,spacing:1,className:t.productItem},r.a.createElement(h.a,{item:!0,xs:2},r.a.createElement("b",null,a.title)),r.a.createElement(h.a,{item:!0,xs:2},r.a.createElement(j.a,{required:!0,id:"standard-required",label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",value:a.amount,onChange:function(e){na({id:a.id,amount:e.target.value})}})),r.a.createElement(h.a,{item:!0,xs:3},r.a.createElement(j.a,{id:"standard-required",label:"\u0426\u0435\u043d\u0430 \u0437\u0430 \u0448\u0442.",value:a.price,onChange:function(e){aa({id:a.id,price:e.target.value})}})),r.a.createElement(h.a,{item:!0,xs:2},r.a.createElement(O.a,{variant:"contained",color:"secondary",startIcon:r.a.createElement(Ra.a,null),onClick:function(){ta(a)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))},Ja=Object(C.a)((function(e){return{productItem:{padding:e.spacing(1),display:"flex",border:"1px solid #eee",alignItems:"center",fontSize:18}}})),Ma=function(){var e=Object(q.a)(Oa);return r.a.createElement(r.a.Fragment,null,e.map((function(e){return r.a.createElement(za,{key:e.id,product:e})})))},Aa=a(224),Ha=a(232),Va=function(){var e=Ga(),t=Object(q.a)(va);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Aa.a,{className:e.marginDefault,control:r.a.createElement(Ha.a,{name:"cash"}),onChange:function(e){e.target.checked?ra():la()},label:"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436",labelPlacement:"start"}),t.active&&r.a.createElement(h.a,{container:!0,spacing:1},r.a.createElement(h.a,{item:!0,xs:4},r.a.createElement(j.a,{className:e.formControl,required:!0,id:"standard-required",label:"\u0421\u0443\u043c\u043c\u0430",name:"cashSum",value:t.sum,onChange:function(e){ca(e.target.value)}}))))},Ga=Object(C.a)((function(e){return{marginDefault:{margin:e.spacing(1),marginLeft:0,display:"block"}}})),Ka=Object(R.d)({handler:function(e){return Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise((function(e,t){setTimeout((function(){e([{id:1,title:"\u041f\u0435\u0440\u0432\u044b\u0439 \u0441\u0447\u0451\u0442"},{id:2,title:"\u0412\u0442\u043e\u0440\u043e\u0439 \u0441\u0447\u0451\u0442"},{id:3,title:"\u0422\u0440\u0435\u0442\u0438\u0439 \u0441\u0447\u0451\u0442"}])}),100)})),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))()}});Ka.finally.watch((function(e){e.error&&se("\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0431\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0445 \u0441\u0447\u0435\u0442\u043e\u0432, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.error))}));var Xa=Object(R.f)([]);Xa.on(Ka.doneData,(function(e,t){return Object(E.a)(t)}));var Qa=function(){var e=Ua(),t=Object(q.a)(ya),a=Object(q.a)(Xa);return Object(n.useEffect)((function(){Ka()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Aa.a,{className:e.marginDefault,control:r.a.createElement(Ha.a,{name:"cashless"}),onChange:function(e){e.target.checked?ua():oa()},label:"\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436",labelPlacement:"start"}),t.active&&r.a.createElement(h.a,{container:!0,spacing:1},r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(P.a,{className:e.formControl},r.a.createElement(N.a,{id:"demo-simple-select-label"},"\u0422\u0438\u043f \u0441\u0447\u0435\u0442\u0430"),r.a.createElement(I.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:0},r.a.createElement(T.a,{value:1},"\u0414\u0435\u0440\u0436\u0430\u0442\u0435\u043b\u044c \u043a\u0430\u0440\u0442\u044b"),r.a.createElement(T.a,{value:2},"\u0420\u0430\u0441\u0441\u0447\u0435\u0442\u043d\u044b\u0439 \u0441\u0447\u0435\u0442"),r.a.createElement(T.a,{value:3},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d")))),r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(P.a,{className:e.formControl},r.a.createElement(N.a,{id:"demo-simple-select-label"},"\u0421\u0447\u0435\u0442"),r.a.createElement(I.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"moneyWorkerId",onChange:function(e){ma(e.target.value)},value:t.moneyWorkerId},a.map((function(e){return r.a.createElement(T.a,{key:e.id,value:e.id},e.title)}))))),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(j.a,{className:e.formControl,required:!0,id:"standard-required",label:"\u0421\u0443\u043c\u043c\u0430",name:"cashlessSum",value:t.sum,onChange:function(e){return ia(e.target.value)}}))))},Ua=Object(C.a)((function(e){return{formControl:{width:"100%"},marginDefault:{margin:e.spacing(1),marginLeft:0,display:"block"}}})),Ya=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0430\u043c"),r.a.createElement(Va,null),r.a.createElement(Qa,null))},Za=function(){var e=$a(),t=Object(q.a)(bt),a=Object(q.a)(ja),l=Object(q.a)(ha);return Object(n.useEffect)((function(){pt()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{container:!0,spacing:1},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(P.a,{className:e.formControl},r.a.createElement(N.a,{id:"demo-simple-select-label"},"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"),r.a.createElement(I.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"managerId",value:a.managerId,onChange:function(e){return sa(e.target.value)}},t.map((function(e){return r.a.createElement(T.a,{key:e.id,value:e.id},e.name)})),r.a.createElement(T.a,{value:20},"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 2"),r.a.createElement(T.a,{value:30},"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 3"))),r.a.createElement(P.a,{className:e.formControl},r.a.createElement(N.a,{id:"label-select-buyer"},"\u041f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044c"),r.a.createElement(I.a,{labelId:"label-select-buyer",id:"select-buyer",name:"buyerId",value:a.buyerId,onChange:function(e){return ba(e.target.value)}},r.a.createElement(T.a,{key:0,value:0},"\u041e\u0431\u044b\u0447\u043d\u044b\u0439 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044c"),r.a.createElement(T.a,{key:1,value:1},"\u041d\u0435\u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044c 1"),r.a.createElement(T.a,{key:2,value:2},"\u041d\u0435\u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044c 2"),r.a.createElement(T.a,{key:3,value:3},"\u041d\u0435\u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044c 3")))),r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(j.a,{className:e.formControl,name:"discount",value:a.discount,required:!0,id:"standard-required",label:"\u0421\u043a\u0438\u0434\u043a\u0430",onChange:function(e){return da(e.target.value)}})),r.a.createElement(h.a,{item:!0,xs:6},r.a.createElement(j.a,{required:!0,InputProps:{readOnly:!0},className:e.formControl,id:"standard-required",label:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",name:"cost",value:l})),r.a.createElement(h.a,{item:!0,xs:4},r.a.createElement(Aa.a,{control:r.a.createElement(Ha.a,{name:"deferred"}),label:"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u0430\u044f",value:a.deferred,onChange:function(e){return pa(e.target.value)},labelPlacement:"start"})),r.a.createElement(h.a,{item:!0,xs:4},r.a.createElement(Aa.a,{control:r.a.createElement(Ha.a,null),label:"\u041f\u043e \u0420\u043e\u0441\u0441\u0438\u0438",name:"forRussia",value:a.forRussia,onChange:function(e){return fa(e.target.value)},labelPlacement:"start"}))))},$a=Object(C.a)((function(e){return{formControl:{width:"100%"}}})),_a=function(){var e=Object(q.a)(xa);return r.a.createElement(r.a.Fragment,null,e.length>0&&r.a.createElement("span",{style:{color:"red"}},"\u041e\u0448\u0438\u0431\u043a\u0438:"),e.map((function(e){return r.a.createElement("p",null,e)})))},en=function(){var e=tn();Object(n.useEffect)((function(){pt()}),[]);var t=Object(q.a)(ja),a=Object(q.a)(xa);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Gt.a,{className:e.root},r.a.createElement("div",null,r.a.createElement("h2",null,"\u041d\u043e\u0432\u0430\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430")),r.a.createElement("hr",null),r.a.createElement(_a,null),r.a.createElement(h.a,{container:!0,spacing:4},r.a.createElement(h.a,{item:!0,xs:5},r.a.createElement("h3",null,"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e \u043f\u0440\u043e\u0434\u0430\u0436\u0435"),r.a.createElement(Za,null),r.a.createElement(Ya,null)),r.a.createElement(h.a,{item:!0,xs:7},r.a.createElement("h3",null,"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"),r.a.createElement(h.a,{container:!0,spacing:1},r.a.createElement(Ma,null)))),r.a.createElement(O.a,{className:e.marginDefault,variant:"contained",color:"primary",onClick:function(){Ca(t)},disabled:a.length>0},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")),r.a.createElement(Ba,null))},tn=Object(C.a)((function(e){return{formControl:{width:"100%"},root:{flexGrow:1,padding:e.spacing(3)},marginDefault:{margin:e.spacing(1),marginLeft:0,display:"block"},productItem:{padding:e.spacing(1),display:"flex",border:"1px solid #eee",alignItems:"center",fontSize:18}}})),an=Object(n.createContext)({userId:null,userRole:"",isAuth:!1}),nn=a(231),rn=a(3),ln=a(236),cn=a(131),un=a.n(cn),on=a(225),mn=a(214),sn=a(130),dn=a.n(sn),pn=a(226),fn=r.a.createElement("div",null,r.a.createElement(v.a,{button:!0,component:o.b,to:"/admin/import"},r.a.createElement(wa.a,{primary:"\u0418\u043c\u043f\u043e\u0440\u0442"})),r.a.createElement(v.a,{button:!0,component:o.b,to:"/admin/products"},r.a.createElement(wa.a,{primary:"\u0412\u0441\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"})),r.a.createElement(v.a,{button:!0,component:o.b,to:"/admin/supplyProductsList"},r.a.createElement(wa.a,{primary:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0441\u0442\u0430\u0432\u043e\u043a"})),r.a.createElement(v.a,{button:!0,component:o.b,to:"/admin/managers"},r.a.createElement(wa.a,{primary:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u044b"})),r.a.createElement(v.a,{button:!0,component:o.b,to:"/admin/archiveSales"},r.a.createElement(wa.a,{primary:"\u0410\u0440\u0445\u0438\u0432\u043d\u044b\u0435 \u043f\u0440\u043e\u0434\u0430\u0436\u0438"}))),bn=r.a.createElement("div",null,r.a.createElement(v.a,{button:!0,component:o.b,to:"/manager/saleCreate"},r.a.createElement(wa.a,{primary:"\u041f\u0440\u043e\u0434\u0430\u0436\u0430"})),r.a.createElement("button",null,r.a.createElement("a",{href:"/"},"\u0421\u0442\u0430\u0440\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441"))),En=function(e){var t=gn(),a=Object(q.a)(pe),n=r.a.useState(!0),l=Object(u.a)(n,2),c=l[0],o=l[1],i=!!a.length,m=function(){de()};return r.a.createElement("div",{className:t.root},r.a.createElement(Pe.a,{open:i,onClose:m},r.a.createElement(Ne.a,{id:"form-dialog-title"},"\u041e\u0448\u0438\u0431\u043a\u0438"),r.a.createElement(Te.a,null,r.a.createElement("ol",null,a.map((function(e){return r.a.createElement("li",null,e)})))),r.a.createElement(Xt.a,null,r.a.createElement(O.a,{onClick:m,color:"primary"},"\u041e\u043a"))),r.a.createElement(on.a,{position:"absolute",className:Object(rn.a)(t.appBar,c&&t.appBarShift)},r.a.createElement(mn.a,{className:t.toolbar},r.a.createElement(Ct.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){o(!0)},className:Object(rn.a)(t.menuButton,c&&t.menuButtonHidden)},r.a.createElement(dn.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},"BVD"))),r.a.createElement(ln.a,{variant:"permanent",classes:{paper:Object(rn.a)(t.drawerPaper,!c&&t.drawerPaperClose)},open:c},r.a.createElement("div",{className:t.toolbarIcon},r.a.createElement(Ct.a,{onClick:function(){o(!1)}},r.a.createElement(un.a,null))),r.a.createElement(y.a,null),r.a.createElement(S.a,null,fn),r.a.createElement(y.a,null),r.a.createElement(S.a,null,bn)),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(pn.a,{maxWidth:"false",className:t.container},e.page)))},gn=Object(C.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(g.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:0},e.breakpoints.up("sm"),{width:0}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));var jn=function(){var e=r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/admin/product",exact:!0},r.a.createElement($t,null)),r.a.createElement(i.b,{path:"/admin/import",exact:!0},r.a.createElement(L,null)),r.a.createElement(i.b,{path:"/admin/supply",exact:!0},r.a.createElement(Ve,null)),r.a.createElement(i.b,{path:"/admin/products",exact:!0},r.a.createElement(Be,null)),r.a.createElement(i.b,{path:"/admin/productsHistory",exact:!0},r.a.createElement(Je,null)),r.a.createElement(i.b,{path:"/admin/managers",exact:!0},r.a.createElement(Ot,null)),r.a.createElement(i.b,{path:"/admin/shops",exact:!0},r.a.createElement(Ze,null)),r.a.createElement(i.b,{path:"/admin/suppliers",exact:!0},r.a.createElement(_e,null)),r.a.createElement(i.b,{path:"/admin/categories",exact:!0},r.a.createElement(lt,null)),r.a.createElement(i.b,{path:"/admin/supplyProductsList",exact:!0},r.a.createElement(it,null)),r.a.createElement(i.b,{path:"/admin/archiveSales",exact:!0},r.a.createElement(Dt,null)),r.a.createElement(i.b,{path:"/manager/saleCreate",exact:!0},r.a.createElement(en,null)),r.a.createElement(i.a,{to:"/admin/product"})),t=Object(nn.a)(),a=Object(u.a)(t,1)[0].userId,n=!!a;return r.a.createElement(an.Provider,{value:{userId:a,userRole:"Administrator",isAuth:n}},r.a.createElement(o.a,null,r.a.createElement(En,{page:e})))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(jn,null)),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.526846e8.chunk.js.map